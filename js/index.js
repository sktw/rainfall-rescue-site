/*! For license information please see index.js.LICENSE.txt */
(()=>{"use strict";var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const e=preact;var n=t.n(e),r=0;function o(t,n,o,a,i){var l,c,s={};for(c in n)"ref"==c?l=n[c]:s[c]=n[c];var u={type:t,props:s,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--r,__source:a,__self:i};if("function"==typeof t&&(l=t.defaultProps))for(c in l)void 0===s[c]&&(s[c]=l[c]);return e.options.vnode&&e.options.vnode(u),u}const a=preactHooks;function i(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function c(t){this.props=t}(c.prototype=new e.Component).isPureReactComponent=!0,c.prototype.shouldComponentUpdate=function(t,e){return l(this.props,t)||l(this.state,e)};var s=e.options.__b;e.options.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),s&&s(t)};var u="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function d(t){function e(e,n){var r=i({},e);return delete r.ref,t(r,(n=e.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return e.$$typeof=u,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var f=function(t,n){return null==t?null:(0,e.toChildArray)((0,e.toChildArray)(t).map(n))},p=f,h=(e.toChildArray,e.options.__e);e.options.__e=function(t,e,n){if(t.then)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);h(t,e,n)};var v=e.options.unmount;function m(){this.__u=0,this.t=null,this.__b=null}function g(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function y(){this.u=null,this.o=null}e.options.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),v&&v(t)},(m.prototype=new e.Component).__c=function(t,e){var n=e.__c,r=this;null==r.t&&(r.t=[]),r.t.push(n);var o=g(r.__v),a=!1,i=function(){a||(a=!0,n.__R=null,o?o(l):l())};n.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var t=r.state.__e;r.__v.__k[0]=function t(e,n,r){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return t(e,n,r)})),e.__c&&e.__c.__P===n&&(e.__e&&r.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=r)),e}(t,t.__c.__P,t.__c.__O)}var e;for(r.setState({__e:r.__b=null});e=r.t.pop();)e.forceUpdate()}},c=!0===e.__h;r.__u++||c||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(i,i)},m.prototype.componentWillUnmount=function(){this.t=[]},m.prototype.render=function(t,n){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=function t(e,n,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),e.__c.__H=null),null!=(e=i({},e)).__c&&(e.__c.__P===r&&(e.__c.__P=n),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return t(e,n,r)}))),e}(this.__b,r,o.__O=o.__P)}this.__b=null}var a=n.__e&&(0,e.createElement)(e.Fragment,null,t.fallback);return a&&(a.__h=null),[(0,e.createElement)(e.Fragment,null,n.__e?null:t.children),a]};var b=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};(y.prototype=new e.Component).__e=function(t){var e=this,n=g(e.__v),r=e.o.get(t);return r[0]++,function(o){var a=function(){e.props.revealOrder?(r.push(o),b(e,t,r)):o()};n?n(a):a()}},y.prototype.render=function(t){this.u=null,this.o=new Map;var n=(0,e.toChildArray)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&n.reverse();for(var r=n.length;r--;)this.o.set(n[r],this.u=[1,0,this.u]);return t.children},y.prototype.componentDidUpdate=y.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){b(t,n,e)}))};var w="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,O=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,x="undefined"!=typeof document,N=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};e.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(e.Component.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var C=e.options.event;function S(){}function j(){return this.cancelBubble}function P(){return this.defaultPrevented}e.options.event=function(t){return C&&(t=C(t)),t.persist=S,t.isPropagationStopped=j,t.isDefaultPrevented=P,t.nativeEvent=t};var k={configurable:!0,get:function(){return this.class}},E=e.options.vnode;e.options.vnode=function(t){var n=t.type,r=t.props,o=r;if("string"==typeof n){var a=-1===n.indexOf("-");for(var i in o={},r){var l=r[i];x&&"children"===i&&"noscript"===n||"value"===i&&"defaultValue"in r&&null==l||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===l?l="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+n)&&!N(r.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():a&&O.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===l&&(l=void 0),o[i]=l)}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=(0,e.toChildArray)(r.children).forEach((function(t){t.props.selected=-1!=o.value.indexOf(t.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=(0,e.toChildArray)(r.children).forEach((function(t){t.props.selected=o.multiple?-1!=o.defaultValue.indexOf(t.props.value):o.defaultValue==t.props.value}))),t.props=o}n&&r.class!=r.className&&(k.enumerable="className"in r,null!=r.className&&(o.class=r.className),Object.defineProperty(o,"className",k)),t.$$typeof=w,E&&E(t)};var M,A=e.options.__r;function F(t){return!!t&&t.$$typeof===w}function T(){return T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},T.apply(this,arguments)}e.options.__r=function(t){A&&A(t),t.__c},e.Fragment,a.useState,a.useReducer,a.useEffect,a.useLayoutEffect,a.useRef,a.useImperativeHandle,a.useMemo,a.useCallback,a.useContext,a.useDebugValue,e.createElement,e.createContext,e.createRef,e.Fragment,e.Component,e.Fragment,function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(M||(M={}));var I="beforeunload";function L(t){t.preventDefault(),t.returnValue=""}function R(){var t=[];return{get length(){return t.length},push:function(e){return t.push(e),function(){t=t.filter((function(t){return t!==e}))}},call:function(e){t.forEach((function(t){return t&&t(e)}))}}}function D(t){var e=t.pathname,n=void 0===e?"/":e,r=t.search,o=void 0===r?"":r,a=t.hash,i=void 0===a?"":a;return o&&"?"!==o&&(n+="?"===o.charAt(0)?o:"?"+o),i&&"#"!==i&&(n+="#"===i.charAt(0)?i:"#"+i),n}function V(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function H(t,e){if(!t)throw new Error(e)}const U=(0,e.createContext)(null),W=(0,e.createContext)(null),z=(0,e.createContext)({outlet:null,matches:[]});function B(t){let{to:e,replace:n,state:r}=t;Z()||H(!1);let o=J();return(0,a.useEffect)((()=>{o(e,{replace:n,state:r})})),null}function G(t){return function(t){let n=(0,a.useContext)(z).outlet;return n?(0,e.createElement)(X.Provider,{value:t},n):n}(t.context)}function $(t){H(!1)}function Y(t){let{basename:n="/",children:r=null,location:o,navigationType:i=M.Pop,navigator:l,static:c=!1}=t;Z()&&H(!1);let s=dt(n),u=(0,a.useMemo)((()=>({basename:s,navigator:l,static:c})),[s,l,c]);"string"==typeof o&&(o=V(o));let{pathname:d="/",search:f="",hash:p="",state:h=null,key:v="default"}=o,m=(0,a.useMemo)((()=>{let t=st(d,s);return null==t?null:{pathname:t,search:f,hash:p,state:h,key:v}}),[s,d,f,p,h,v]);return null==m?null:(0,e.createElement)(U.Provider,{value:u},(0,e.createElement)(W.Provider,{children:r,value:{location:m,navigationType:i}}))}function K(t){let{children:n,location:r}=t;return function(t,n){Z()||H(!1);let{matches:r}=(0,a.useContext)(z),o=r[r.length-1],i=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let c,s=q();if(n){var u;let t="string"==typeof n?V(n):n;"/"===l||(null==(u=t.pathname)?void 0:u.startsWith(l))||H(!1),c=t}else c=s;let d=c.pathname||"/",f=function(t,e,n){void 0===n&&(n="/");let r=st(("string"==typeof e?V(e):e).pathname||"/",n);if(null==r)return null;let o=nt(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){return t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]))?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(o);let a=null;for(let t=0;null==a&&t<o.length;++t)a=it(o[t],r);return a}(t,{pathname:"/"===l?d:d.slice(l.length)||"/"});return function(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight(((r,o,a)=>(0,e.createElement)(z.Provider,{children:void 0!==o.route.element?o.route.element:r,value:{outlet:r,matches:n.concat(t.slice(0,a+1))}})),null)}(f&&f.map((t=>Object.assign({},t,{params:Object.assign({},i,t.params),pathname:ut([l,t.pathname]),pathnameBase:"/"===t.pathnameBase?l:ut([l,t.pathnameBase])}))),r)}(et(n),r)}function Z(){return null!=(0,a.useContext)(W)}function q(){return Z()||H(!1),(0,a.useContext)(W).location}function J(){Z()||H(!1);let{basename:t,navigator:e}=(0,a.useContext)(U),{matches:n}=(0,a.useContext)(z),{pathname:r}=q(),o=JSON.stringify(n.map((t=>t.pathnameBase))),i=(0,a.useRef)(!1);return(0,a.useEffect)((()=>{i.current=!0})),(0,a.useCallback)((function(n,a){if(void 0===a&&(a={}),!i.current)return;if("number"==typeof n)return void e.go(n);let l=ct(n,JSON.parse(o),r);"/"!==t&&(l.pathname=ut([t,l.pathname])),(a.replace?e.replace:e.push)(l,a.state)}),[t,e,o,r])}const X=(0,e.createContext)(null);function Q(){let{matches:t}=(0,a.useContext)(z),e=t[t.length-1];return e?e.params:{}}function tt(t){let{matches:e}=(0,a.useContext)(z),{pathname:n}=q(),r=JSON.stringify(e.map((t=>t.pathnameBase)));return(0,a.useMemo)((()=>ct(t,JSON.parse(r),n)),[t,r,n])}function et(t){let n=[];return p(t,(t=>{if(!F(t))return;if(t.type===e.Fragment)return void n.push.apply(n,et(t.props.children));t.type!==$&&H(!1);let r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=et(t.props.children)),n.push(r)})),n}function nt(t,e,n,r){return void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=""),t.forEach(((t,o)=>{let a={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:o,route:t};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||H(!1),a.relativePath=a.relativePath.slice(r.length));let i=ut([r,a.relativePath]),l=n.concat(a);t.children&&t.children.length>0&&(!0===t.index&&H(!1),nt(t.children,e,l,i)),(null!=t.path||t.index)&&e.push({path:i,score:at(i,t.index),routesMeta:l})})),e}const rt=/^:\w+$/,ot=t=>"*"===t;function at(t,e){let n=t.split("/"),r=n.length;return n.some(ot)&&(r+=-2),e&&(r+=2),n.filter((t=>!ot(t))).reduce(((t,e)=>t+(rt.test(e)?3:""===e?1:10)),r)}function it(t,e){let{routesMeta:n}=t,r={},o="/",a=[];for(let t=0;t<n.length;++t){let i=n[t],l=t===n.length-1,c="/"===o?e:e.slice(o.length)||"/",s=lt({path:i.relativePath,caseSensitive:i.caseSensitive,end:l},c);if(!s)return null;Object.assign(r,s.params);let u=i.route;a.push({params:r,pathname:ut([o,s.pathname]),pathnameBase:dt(ut([o,s.pathnameBase])),route:u}),"/"!==s.pathnameBase&&(o=ut([o,s.pathnameBase]))}return a}function lt(t,e){"string"==typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!0);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((t,e)=>(r.push(e),"([^\\/]+)")));return t.endsWith("*")?(r.push("*"),o+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):o+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(o,e?void 0:"i"),r]}(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:r.reduce(((t,e,n)=>{if("*"===e){let t=l[n]||"";i=a.slice(0,a.length-t.length).replace(/(.)\/+$/,"$1")}return t[e]=function(t,e){try{return decodeURIComponent(t)}catch(e){return t}}(l[n]||""),t}),{}),pathname:a,pathnameBase:i,pattern:t}}function ct(t,e,n){let r,o="string"==typeof t?V(t):t,a=""===t||""===o.pathname?"/":o.pathname;if(null==a)r=n;else{let t=e.length-1;if(a.startsWith("..")){let e=a.split("/");for(;".."===e[0];)e.shift(),t-=1;o.pathname=e.join("/")}r=t>=0?e[t]:"/"}let i=function(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof t?V(t):t,a=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:a,search:ft(r),hash:pt(o)}}(o,r);return a&&"/"!==a&&a.endsWith("/")&&!i.pathname.endsWith("/")&&(i.pathname+="/"),i}function st(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&"/"!==n?null:t.slice(e.length)||"/"}const ut=t=>t.join("/").replace(/\/\/+/g,"/"),dt=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ft=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",pt=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";function ht(){return ht=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ht.apply(this,arguments)}function vt(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}const mt=["onClick","reloadDocument","replace","state","target","to"],gt=["aria-current","caseSensitive","className","end","style","to","children"];function yt(t){let{basename:n,children:r,window:o}=t,i=(0,a.useRef)();null==i.current&&(i.current=function(t){void 0===t&&(t={});var e=t.window,n=void 0===e?document.defaultView:e,r=n.history;function o(){var t=V(n.location.hash.substr(1)),e=t.pathname,o=void 0===e?"/":e,a=t.search,i=void 0===a?"":a,l=t.hash,c=void 0===l?"":l,s=r.state||{};return[s.idx,{pathname:o,search:i,hash:c,state:s.usr||null,key:s.key||"default"}]}var a=null;function i(){if(a)f.call(a),a=null;else{var t=M.Pop,e=o(),n=e[0],r=e[1];if(f.length){if(null!=n){var i=s-n;i&&(a={action:t,location:r,retry:function(){y(-1*i)}},y(i))}}else g(t)}}n.addEventListener("popstate",i),n.addEventListener("hashchange",(function(){D(o()[1])!==D(u)&&i()}));var l=M.Pop,c=o(),s=c[0],u=c[1],d=R(),f=R();function p(t){return function(){var t=document.querySelector("base"),e="";if(t&&t.getAttribute("href")){var r=n.location.href,o=r.indexOf("#");e=-1===o?r:r.slice(0,o)}return e}()+"#"+("string"==typeof t?t:D(t))}function h(t,e){return void 0===e&&(e=null),T({pathname:u.pathname,hash:"",search:""},"string"==typeof t?V(t):t,{state:e,key:Math.random().toString(36).substr(2,8)})}function v(t,e){return[{usr:t.state,key:t.key,idx:e},p(t)]}function m(t,e,n){return!f.length||(f.call({action:t,location:e,retry:n}),!1)}function g(t){l=t;var e=o();s=e[0],u=e[1],d.call({action:l,location:u})}function y(t){r.go(t)}return null==s&&(s=0,r.replaceState(T({},r.state,{idx:s}),"")),{get action(){return l},get location(){return u},createHref:p,push:function t(e,o){var a=M.Push,i=h(e,o);if(m(a,i,(function(){t(e,o)}))){var l=v(i,s+1),c=l[0],u=l[1];try{r.pushState(c,"",u)}catch(t){n.location.assign(u)}g(a)}},replace:function t(e,n){var o=M.Replace,a=h(e,n);if(m(o,a,(function(){t(e,n)}))){var i=v(a,s),l=i[0],c=i[1];r.replaceState(l,"",c),g(o)}},go:y,back:function(){y(-1)},forward:function(){y(1)},listen:function(t){return d.push(t)},block:function(t){var e=f.push(t);return 1===f.length&&n.addEventListener(I,L),function(){e(),f.length||n.removeEventListener(I,L)}}}}({window:o}));let l=i.current,[c,s]=(0,a.useState)({action:l.action,location:l.location});return(0,a.useLayoutEffect)((()=>l.listen(s)),[l]),(0,e.createElement)(Y,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l})}const bt=d((function(t,n){let{onClick:r,reloadDocument:o,replace:i=!1,state:l,target:c,to:s}=t,u=vt(t,mt),d=function(t){Z()||H(!1);let{basename:e,navigator:n}=(0,a.useContext)(U),{hash:r,pathname:o,search:i}=tt(t),l=o;if("/"!==e){let n=function(t){return""===t||""===t.pathname?"/":"string"==typeof t?V(t).pathname:t.pathname}(t),r=null!=n&&n.endsWith("/");l="/"===o?e+(r?"/":""):ut([e,o])}return n.createHref({pathname:l,search:i,hash:r})}(s),f=function(t,e){let{target:n,replace:r,state:o}=void 0===e?{}:e,i=J(),l=q(),c=tt(t);return(0,a.useCallback)((e=>{if(!(0!==e.button||n&&"_self"!==n||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(e))){e.preventDefault();let n=!!r||D(l)===D(c);i(t,{replace:n,state:o})}}),[l,i,c,r,o,n,t])}(s,{replace:i,state:l,target:c});return(0,e.createElement)("a",ht({},u,{href:d,onClick:function(t){r&&r(t),t.defaultPrevented||o||f(t)},ref:n,target:c}))})),_t=d((function(t,n){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:i=!1,style:l,to:c,children:s}=t,u=vt(t,gt),d=q(),f=tt(c),p=d.pathname,h=f.pathname;o||(p=p.toLowerCase(),h=h.toLowerCase());let v,m=p===h||!i&&p.startsWith(h)&&"/"===p.charAt(h.length),g=m?r:void 0;v="function"==typeof a?a({isActive:m}):[a,m?"active":null].filter(Boolean).join(" ");let y="function"==typeof l?l({isActive:m}):l;return(0,e.createElement)(bt,ht({},u,{"aria-current":g,className:v,ref:n,style:y,to:c}),"function"==typeof s?s({isActive:m}):s)}));var wt=function(){return wt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},wt.apply(this,arguments)};const Ot=function(t){var e=function(t){var e=[["Home","/"]];function n(n,r){var o=lt({path:n,end:!1},t);if(null!==o){var a=r(o.params);e.push(a)}}return n(":version/locations",(function(t){return["Locations","/".concat(t.version,"/locations")]})),n(":version/locations/:location",(function(t){return[t.location,"/".concat(t.version,"/locations/").concat(t.location)]})),n(":version/locations/:location/:gauge",(function(t){return[t.gauge,"/".concat(t.version,"/locations/").concat(t.location,"/").concat(t.gauge)]})),n(":version/gauges",(function(t){return["Gauges","/".concat(t.version,"/gauges")]})),e}(t.pathname);return o("nav",wt({"aria-label":"breadcrumb"},{children:o("ol",wt({className:"breadcrumb"},{children:e.map((function(t,n){var r=t[0],a=t[1];return n==e.length-1?o("li",wt({className:"breadcrumb-item active","aria-current":"page"},{children:r}),n):o("li",wt({className:"breadcrumb-item"},{children:o(bt,wt({to:a},{children:r}),void 0)}),n)}))}),void 0)}),void 0)},xt={rootUrl:"/rainfall-rescue-site",rootRawUrl:"https://raw.githubusercontent.com/sktw/rainfall-rescue-site",mapping:{gaugeMap:{origin:{x0:-12e5,y0:622e4},size:{width:145e4,height:238e4}},esriApiKey:"AAPK226311be69aa47ecaf5dfc337bb3d0de8gjUi3XSWkDRD5uRZJvZC_03ArqPcXMYrTmkwS_lSqQiPbkH-XfLP3wPqk190rGT"},versions:["v1.0.0","v1.1.0","working"]};var Nt=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function Ct(t,e){return t.endsWith(e)?t.substring(0,t.length-e.length):t}function St(t,e){return t.startsWith(e)?t.substring(e.length):t}function jt(t,e){var n=t.startsWith(e)?e.length:0,r=t.endsWith(e)?t.length-e.length:t.length;return r-n===t.length?t:t.substring(n,r)}function Pt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return"";if(1===t.length)return t[0];for(var n=Ct(t[0],"/"),r=1;r<t.length-1;r++)n+="/".concat(jt(t[r],"/"));return"".concat(n,"/").concat(St(t[t.length-1],"/"))}function kt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Pt.apply(void 0,Nt([xt.rootUrl,"images"],t,!1))}function Et(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Pt.apply(void 0,Nt([xt.rootUrl,"icons"],t,!1))}function Mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Pt.apply(void 0,Nt([xt.rootUrl,"api"],t,!1))}function At(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Pt.apply(void 0,Nt([xt.rootRawUrl,"versions"],t,!1))}function Ft(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=[];e.push(!1);for(var o=0;o<t.length;o++){var a=t[o].trim();a&&r.push(a);var i=e[o];!1!==i&&r.push(i.trim())}return r.join(" ")}function Tt(t,e){t.sort((function(t,n){var r=e(t),o=e(n);return r<o?-1:r>o?1:0}))}function It(t,e,n){return t<e?e:t>n?n:t}function Lt(t){var e=t.split("/");return[parseInt(e[0],10),parseInt(e[1],10)]}function Rt(t){return t.toUpperCase().replace(/[ ]/g,"-")}var Dt=function(){return Dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Dt.apply(this,arguments)};function Vt(t){var e=t.currentVersion,n=t.versions;return o("form",Dt({className:"d-flex"},{children:o("div",Dt({className:"dropdown"},{children:[o("button",Dt({id:"version-dropdown",className:"btn btn-outline-secondary dropdown-toggle",type:"button","aria-expanded":"false","data-bs-toggle":"dropdown"},{children:e}),void 0),o("ul",Dt({className:"dropdown-menu dropdown-menu-md-end","aria-labelledby":"version-dropdown"},{children:n.map((function(t){return o("li",t===e?{children:o(_t,Dt({className:"dropdown-item disabled",to:""},{children:e}),void 0)}:{children:o(_t,Dt({className:"dropdown-item",to:"/".concat(t)},{children:t}),void 0)},void 0)}))}),void 0)]}),void 0)}),void 0)}const Ht=function(t){var e=t.currentVersion,n=t.versions,r=n[n.length-1],a=e||r;return o("nav",Dt({className:"navbar navbar-expand-md navbar-light bg-light"},{children:o("div",Dt({className:"container-fluid"},{children:[o(bt,Dt({className:"navbar-brand",to:"/"},{children:[o("img",{src:Et("rainfall-rescue-icon.svg"),alt:"",width:"30",height:"24",className:"d-inline-block align-text-top"},void 0),"Rainfall Rescue"]}),void 0),o("button",Dt({className:"navbar-toggler",type:"button","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation","data-bs-toggle":"collapse","data-bs-target":"#navbar-collapse"},{children:o("span",{className:"navbar-toggler-icon"},void 0)}),void 0),o("div",Dt({id:"navbar-collapse",className:"navbar-collapse collapse"},{children:[o("ul",Dt({className:"navbar-nav me-auto mb-2 mb-md-0"},{children:[o("li",Dt({className:"nav-item"},{children:o(bt,Dt({className:"nav-link",to:"".concat(a,"/locations")},{children:"Locations"}),void 0)}),void 0),o("li",Dt({className:"nav-item"},{children:o(bt,Dt({className:"nav-link",to:"".concat(a,"/gauges")},{children:"Gauges"}),void 0)}),void 0)]}),void 0),o(Vt,{currentVersion:a,versions:n},void 0)]}),void 0)]}),void 0)}),void 0)};var Ut=function(){return Ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ut.apply(this,arguments)};function Wt(){return o(B,{to:"/not-found",replace:!0},void 0)}function zt(){return o("div",Ut({className:"rr-not-found container"},{children:o("h1",{children:"Not found!"},void 0)}),void 0)}function Bt(){var t=(0,a.useState)(null),e=t[0],n=t[1],r=(0,a.useCallback)((function(t){n(t)}),[n]);return[e,r]}function Gt(){return Q()}function $t(){var t;return null!==(t=Q().version)&&void 0!==t?t:""}const Yt=_,Kt=function(){function t(){this.listeners=[],this._nextListeners=[]}return t.prototype.addListener=function(t){this.listeners===this._nextListeners&&(this._nextListeners=this.listeners.slice()),this._nextListeners.push(t)},t.prototype.removeListener=function(t){this.listeners===this._nextListeners&&(this._nextListeners=this.listeners.slice());var e=this._nextListeners.indexOf(t);e>-1&&this._nextListeners.splice(e,1)},t.prototype.emit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.listeners=this._nextListeners,this.listeners.map((function(e){return e.apply(void 0,t)}))},t.prototype.removeAllListeners=function(){this._nextListeners=[]},t}();var Zt,qt=(Zt=function(t,e){return Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Zt(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});function Jt(t,e){for(var n in e){var r=e[n];(0,Yt.has)(t,n)&&(0,Yt.isPlainObject)(r)?Jt(t[n],r):t[n]=r}}function Xt(t,e){var n,r,o=(0,Yt.toPath)(e);if(0!==o.length)if(1===o.length?(n=t,r=o[0]):(n=(0,Yt.get)(t,o.slice(0,-1)),r=o[o.length-1]),Array.isArray(n)){var a=parseInt(r,10);n.splice(a,1)}else delete n[r]}var Qt=function(){function t(){this._eventEmitter=new Kt,this._parent=null,this._key="",this._pendingChanges={},this._batchingCount=0,this._aliases={},this.initialState={},this.children={},this.state={}}return Object.defineProperty(t.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),t.prototype.assignInitialState=function(t){Object.assign(this.initialState,t),Object.assign(this.state,t)},t.prototype.update=function(t){var e=function(t,e){var n={};for(var r in e)n[r]=!0,t[r]=e[r];return n}(this.state,t);this._bubble(e)},t.prototype.onChanges=function(t){},t.prototype.addChild=function(t,e,n){void 0===n&&(n=""),e._parent=this,""!==n?(e._key=n,this._aliases[n]=e):e._key=t,(0,Yt.set)(this.children,t,e),(0,Yt.set)(this.state,t,e.state)},t.prototype.setKey=function(t){this._key=t},t.prototype.setParent=function(t){this._parent=t},t.prototype.removeChild=function(t){var e=this.getChild(t);e._parent=null,Xt(this.children,e._key),Xt(this.state,e._key),(0,Yt.has)(this._aliases,t)&&delete this._aliases[t]},t.prototype._bubble=function(t){var e;this._batchingCount>0?Jt(this._pendingChanges,t):(this._eventEmitter.emit(t),this._parent&&this._parent._bubble(((e={})[this._key]=t,e))),this.onChanges(t)},t.prototype._endBatch=function(){if(this._batchingCount-=1,0===this._batchingCount){var t=this._pendingChanges;this._pendingChanges={},this._bubble(t)}},t.prototype.getChild=function(t){return(0,Yt.has)(this._aliases,t)?this._aliases[t]:(0,Yt.get)(this.children,t)},t.prototype.batch=function(t){this._batchingCount+=1;try{var e=t();if(function(t){return!!t&&(0,Yt.isFunction)(t.then)}(e))throw new Error("Use batchAsync to batch async functions");return e}finally{this._endBatch()}},t.prototype.batchAsync=function(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function l(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,l)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(e){switch(e.label){case 0:this._batchingCount+=1,e.label=1;case 1:return e.trys.push([1,,3,4]),[4,t()];case 2:return[2,e.sent()];case 3:return this._endBatch(),[7];case 4:return[2]}}))}))},t.prototype.subscribe=function(t){var e=this;return this._eventEmitter.addListener(t),function(){return e._eventEmitter.removeListener(t)}},t.prototype.unsubscribe=function(t){this._eventEmitter.removeListener(t)},t}(),te=function(t){function e(e){void 0===e&&(e={});var n=t.call(this)||this;for(var r in e)t.prototype.addChild.call(n,r,e[r]);return n}return qt(e,t),e.prototype.addChild=function(e,n,r){var o=this;void 0===r&&(r=""),t.prototype.addChild.call(this,e,n,r),this.batch((function(){o.update({}),n.update({})}))},e.prototype.getChild=function(e){return t.prototype.getChild.call(this,e)},e.prototype.remove=function(e){var n=this,r=this.children[e];this.batch((function(){n.update({}),r.update({})})),t.prototype.removeChild.call(this,e)},e.prototype.forEach=function(t){return(0,Yt.forOwn)(this.children,t)},e.prototype.map=function(t){return(0,Yt.mapValues)(this.children,t)},e.prototype.entries=function(){return(0,Yt.entries)(this.children)},e}(Qt),ee=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ne=function(t){function e(){var e=t.call(this)||this;return e.assignInitialState({loading:!1,url:null,data:null,error:null}),e}return ee(e,t),e.prototype.setLoading=function(t){this.update({loading:!0,url:t,data:null,error:null})},e.prototype.setData=function(t){this.update({loading:!1,data:t,error:null})},e.prototype.setError=function(t){this.update({loading:!1,data:null,error:t})},e.prototype.fetch=function(t){return function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function l(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,l)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function(){var e=this;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}(this,(function(n){return this.setLoading(t),[2,fetch(t).then((function(t){if(t.ok)return t.json();throw t})).then((function(t){e.setData(t)})).catch((function(t){t instanceof Response?e.setError({status:t.status,text:t.statusText}):e.setError({status:null,text:t.message})}))]}))}))},e}(Qt);const re=ne;var oe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ae=function(t){function e(e){var n=t.call(this)||this,r={mode:e};return n.assignInitialState(r),n}return oe(e,t),e.prototype.setMode=function(t){this.update({mode:t})},e}(Qt);function ie(t,e,n){if(0!==e.length)for(var r=0,o=e;r<o.length;r++){var a=o[r];if((0,Yt.has)(t,a)){n();break}}else n()}function le(t,e){if(void 0===e&&(e=[]),!(t instanceof Qt))throw new Error("Invalid model instance");var n=(0,a.useReducer)((function(t){return t+1}),0)[1],r=(0,a.useRef)(e);(0,a.useLayoutEffect)((function(){var e=function(){return n({})};return t.subscribe((function(t){return ie(t,r.current,e)}))}),[t,r])}function ce(t,e,n){void 0===e&&(e=null),void 0===n&&(n={});var r=n.force,o=void 0!==r&&r,i=(0,a.useMemo)((function(){return null===e?new re:e}),[e]);return function(t,e,n,r){var o=function(t,e){if(void 0===e&&(e=[]),!(t instanceof Qt))throw new Error("Invalid model instance");var n=(0,a.useRef)(0),r=(0,a.useRef)(e);return(0,a.useLayoutEffect)((function(){var e=function(){return n.current=n.current+1};return t.subscribe((function(t){return ie(t,r.current,e)}))}),[t,r,n]),n.current}(t,[]);(0,a.useEffect)(n,function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([o,n],null!=r?r:[],!0))}(i,0,(function(){var e=i.state,n=e.url,r=e.loading,a=e.data;r||t===n&&null!==a&&!o||i.fetch(t)}),[t,o]),i}var se,ue,de=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},fe=function(){return fe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fe.apply(this,arguments)};function pe(t){var e=t.mode,n=t.tabs,r=t.handleTabChange,i=(0,a.useCallback)((function(t){var e=t.target;e.hasAttribute("data-mode")&&r(e.getAttribute("data-mode"))}),[r]);return o("ul",fe({class:"nav nav-tabs mb-3",role:"tablist",onClick:i},{children:n.map((function(t){var n=t.mode,r=t.title;return o("li",fe({class:"nav-item",role:"presentation"},{children:o("button",fe({className:Ft(se||(se=de(["nav-link ",""],["nav-link ",""])),e===n&&"active"),type:"button",role:"tab","aria-controls":n,"aria-selected":e===n,"data-mode":n},{children:r}),n)}),n)}))}),void 0)}function he(t){var n=t.mode,r=t.renderChildren;return o(e.Fragment,{children:Object.keys(r).map((function(t){return o("div",fe({className:Ft(ue||(ue=de(["",""],["",""])),t!==n&&"d-none")},{children:r[t]()}),t)}))},void 0)}function ve(t){var e=t.mode,n=t.renderChildren,r=t.persist;return o("div",fe({className:"mb-3 px-3"},{children:r?o(he,{mode:e,renderChildren:n},void 0):e in n?n[e]():null}),void 0)}function me(t){var e=t.model,n=t.tabs,r=t.renderChildren,i=t.persist,l=void 0!==i&&i;le(e);var c=e.state.mode,s=(0,a.useCallback)((function(t){e.setMode(t)}),[e]);return o("div",{children:[o(pe,{mode:c,tabs:n,handleTabChange:s},void 0),o(ve,{mode:c,renderChildren:r,persist:l},void 0)]},void 0)}var ge=function(){return ge=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ge.apply(this,arguments)};const ye=function(t){var e=(0,a.useRef)(null),n=Bt(),r=n[0],i=n[1],l=t.value,c=t.onInput,s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(t,["value","onInput"]);(0,a.useEffect)((function(){null!==r&&r.setSelectionRange(e.current,e.current)}),[r,e,l]);var u=(0,a.useCallback)((function(t){null!==r&&(e.current=r.selectionStart,c&&c.call(r,t))}),[r,e,c]);return o("input",ge({ref:i,value:l,onInput:u},s),void 0)},be=Popper;var _e=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},we=function(){return we=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},we.apply(this,arguments)};function Oe(t,e){var n=function(t){var n=t.className,r=t.width,a=void 0===r?"1rem":r,i=t.height,l=void 0===i?"1rem":i,c=t.fillColor;return o("svg",we({xmlns:"http://www.w3.org/2000/svg",className:Ft(xe||(xe=_e(["rr-icon ",""],["rr-icon ",""])),!!n&&n),width:a,height:l,fill:c,viewBox:"0 0 16 16"},{children:e}),void 0)};return n.displayName=t,n}var xe,Ne,Ce=Oe("ExternalLinkIcon",o(e.Fragment,{children:[o("path",{"fill-rule":"evenodd",d:"M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"},void 0),",",o("path",{"fill-rule":"evenodd",d:"M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"},void 0)]},void 0)),Se=Oe("InfoIcon",o(e.Fragment,{children:[o("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"},void 0),o("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"},void 0)]},void 0)),je=Oe("SortAscIcon",o(e.Fragment,{children:o("path",{"fill-rule":"evenodd",d:"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"},void 0)},void 0)),Pe=Oe("SortDescIcon",o(e.Fragment,{children:o("path",{"fill-rule":"evenodd",d:"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z"},void 0)},void 0)),ke=Oe("SortIcon",o(e.Fragment,{children:o("path",{"fill-rule":"evenodd",d:"M3.646 9.146a.5.5 0 0 1 .708 0L8 12.793l3.646-3.647a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 0-.708zm0-2.292a.5.5 0 0 0 .708 0L8 3.207l3.646 3.647a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 0 0 0 .708z"},void 0)},void 0));function Ee(t){var e=t.className,n=void 0===e?"":e,r=t.width,a=t.height,i=t.fillColor;return o("svg",we({xmlns:"http://www.w3.org/2000/svg",className:Ft(Ne||(Ne=_e(["rr-icon ",""],["rr-icon ",""])),n),width:r,height:a,fill:i,viewBox:"0 0 32 32"},{children:[o("path",{d:"M5 2v28h22V2h-2v25.917H7V2Z"},void 0),o("path",{d:"M8 10v2h3v2H8v6h3v2H8v5h16V10Z"},void 0),o("path",{d:"M7 4h4v2H7Z"},void 0)]}),void 0)}var Me=function(){return Me=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Me.apply(this,arguments)};const Ae=function(t){var e,n,r=t.className,i=t.children,l=Bt(),c=l[0],s=l[1],u=(0,a.useState)(null),d=u[0],f=u[1],p=(0,a.useState)(!1),h=p[0],v=p[1];return(0,a.useLayoutEffect)((function(){if(null!==c&&null!==d){var t=(0,be.createPopper)(c,d,{placement:"right",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"eventListeners",enabled:!0}]}),e=function(t){c.contains(t.target)||v(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e),t.destroy()}}}),[d,c,v]),o("div",Me({className:Ft(Fe||(e=["position-relative ",""],n=["position-relative ",""],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,Fe=e),!!r&&r)},{children:[o("button",Me({ref:s,type:"button",className:"rr-info__button",onClick:function(){v(!h),h||f(null)}},{children:o(Se,{},void 0)}),void 0),h&&o("div",Me({ref:f,class:"popover fade show bs-popover-end rr-info__popover",role:"tooltip"},{children:[o("div",{className:"popover-arrow","data-popper-arrow":!0},void 0),o("div",Me({className:"popover-body"},{children:i}),void 0)]}),void 0)]}),void 0)};var Fe;const Te=function(t){return(0,t.validator)(Gt())?o(G,{},void 0):o(Wt,{},void 0)};var Ie=function(){return Ie=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ie.apply(this,arguments)};const Le=function(){return o("div",Ie({className:"d-flex justify-content-center"},{children:o("div",Ie({className:"rr-loading spinner-border",role:"status"},{children:o("span",Ie({className:"visually-hidden"},{children:"Loading..."}),void 0)}),void 0)}),void 0)};var Re=function(){return Re=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Re.apply(this,arguments)};const De=function(t){var e=t.model,n=t.redirectNotFound,r=void 0!==n&&n,i=t.children,l=(0,a.useState)(!1),c=l[0],s=l[1];le(e);var u=e.state,d=u.loading,f=u.data,p=u.error;return(0,a.useEffect)((function(){if(d){var t=setTimeout((function(){return s(!0)}),500);return function(){clearTimeout(t)}}}),[d]),d&&c?o(Le,{},void 0):null!==p?404===p.status&&r?o(Wt,{},void 0):o("div",Re({className:"rr-error"},{children:"Error!"}),void 0):null!==f?i(f):null};var Ve=function(){return Ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ve.apply(this,arguments)};const He=function(){return o(e.Fragment,{children:[o("h1",Ve({className:"display-3"},{children:"Rainfall Rescue"}),void 0),o("p",{children:["A prototype website for ",o("a",Ve({href:"https://github.com/ed-hawkins/rainfall-rescue"},{children:"rainfall-rescue"}),void 0),"!"]},void 0)]},void 0)};var Ue=function(){return Ue=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ue.apply(this,arguments)};const We=function(t){var e=t.gauges;return o("ul",Ue({className:"list-group list-group-flush"},{children:e.map((function(t){var e=t.name;return o("li",Ue({className:"list-group-item"},{children:o(bt,Ue({to:e},{children:e}),void 0)}),e)}))}),void 0)},ze=Chart,Be=luxon,Ge={datetime:Be.DateTime.DATETIME_MED_WITH_SECONDS,millisecond:"h:mm:ss.SSS a",second:Be.DateTime.TIME_WITH_SECONDS,minute:Be.DateTime.TIME_SIMPLE,hour:{hour:"numeric"},day:{day:"numeric",month:"short"},week:"DD",month:{month:"short",year:"numeric"},quarter:"'Q'q - yyyy",year:{year:"numeric"}};ze._adapters._date.override({_id:"luxon",_create:function(t){return Be.DateTime.fromMillis(t,this.options)},formats:function(){return Ge},parse:function(t,e){const n=this.options;if(null==t)return null;const r=typeof t;return"number"===r?t=this._create(t):"string"===r?t="string"==typeof e?Be.DateTime.fromFormat(t,e,n):Be.DateTime.fromISO(t,n):t instanceof Date?t=Be.DateTime.fromJSDate(t,n):"object"!==r||t instanceof Be.DateTime||(t=Be.DateTime.fromObject(t)),t.isValid?t.valueOf():null},format:function(t,e){const n=this._create(t);return"string"==typeof e?n.toFormat(e,this.options):n.toLocaleString(e)},add:function(t,e,n){const r={};return r[n]=e,this._create(t).plus(r).valueOf()},diff:function(t,e,n){return this._create(t).diff(this._create(e)).as(n).valueOf()},startOf:function(t,e,n){if("isoWeek"===e){n=Math.trunc(Math.min(Math.max(0,n),6));const e=this._create(t);return e.minus({days:(e.weekday-n+7)%7}).startOf("day").valueOf()}return e?this._create(t).startOf(e).valueOf():t},endOf:function(t,e){return this._create(t).endOf(e).valueOf()}});var $e=function(){return $e=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},$e.apply(this,arguments)};function Ye(t){return"hsl(".concat(137.508*t%360,",").concat(70,"%,").concat(75,"%)")}function Ke(t){var e,n,r,o,a=null===(n=null===(e=null==t?void 0:t.parsed)||void 0===e?void 0:e._custom)||void 0===n?void 0:n.start,i=null===(o=null===(r=null==t?void 0:t.parsed)||void 0===r?void 0:r._custom)||void 0===o?void 0:o.end;if(void 0===a||void 0===i)return"";var l=Be.DateTime.fromMillis(a),c=Be.DateTime.fromMillis(i);return l.equals(c)?"".concat(l.toFormat("yyyy/MM")):"".concat(l.toFormat("yyyy/MM"),"-").concat(c.toFormat("yyyy/MM"))}function Ze(t){var e;return null!==(e=t[0].dataset.label)&&void 0!==e?e:""}const qe=function(t){var e=t.gauges,n=(0,a.useRef)(null),r=Bt(),i=r[0],l=r[1];return(0,a.useEffect)((function(){if(null!==i)return n.current=function(t,e){var n=[];e.forEach((function(t,e){var r=t.name,o=t.ranges.map((function(t){var e=t[0],n=t[1],r=Lt(e),o=r[0],a=r[1],i=Lt(n),l=i[0],c=i[1];return{x:[Be.DateTime.fromObject({year:o,month:a}),Be.DateTime.fromObject({year:l,month:c})],y:"range"}}));n.push({label:r,data:o,maxBarThickness:20,backgroundColor:Ye(e)})}));var r=t.getContext("2d");if(null===r)return null;var o=new ze.Chart(r,{type:"bar",data:{datasets:n},options:{animation:!1,maintainAspectRatio:!1,indexAxis:"y",scales:{x:{type:"time",title:{display:!0,text:"Date"}},y:{display:!1}},plugins:{legend:{onClick:Yt.noop},tooltip:{callbacks:{label:Ke,title:Ze}}}}});return null!==t.parentElement&&(t.parentElement.style.height="".concat(100+50*n.length,"px")),o}(i,e),function(){null!==n.current&&n.current.destroy()}}),[i,n,e]),o("div",$e({className:"position-relative"},{children:o("canvas",{ref:l},void 0)}),void 0)};var Je=function(){return Je=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Je.apply(this,arguments)};function Xe(t){var e=t.currentVersion,n=t.entry,r=n.version,a=n.name,i=n.changes;return o("li",Je({className:"list-group-item d-flex flex-row"},{children:[o("div",Je({className:"rr-location-history-line__version"},{children:r===e||null===a?o("span",{children:r},void 0):o(bt,Je({to:"/".concat(r,"/locations/").concat(a)},{children:r}),void 0)}),void 0),o("div",Je({className:"flex-grow-1"},{children:o("ul",Je({className:"rr-location-history-line__changes"},{children:i.map((function(t,e){return o("li",{children:t},e)}))}),void 0)}),void 0)]}),void 0)}const Qe=function(t){var e=t.version,n=t.history;return o("ul",Je({className:"list-group list-group-flush"},{children:n.map((function(t){return 0==t.changes.length?null:o(Xe,{currentVersion:e,entry:t},void 0)}))}),void 0)};var tn=function(){return tn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},tn.apply(this,arguments)};const en=function(t){var n=t.version,r=t.location,a=t.data,i=a.gauges,l=a.history,c=a.links;return o(e.Fragment,{children:[o("h1",tn({className:"mb-5"},{children:r}),void 0),o("div",tn({className:"row mb-5"},{children:o("div",tn({className:"col"},{children:[o("h2",tn({className:"fs-4"},{children:"Gauges"}),void 0),o(We,{gauges:i},void 0)]}),void 0)}),void 0),o("div",tn({className:"mb-5"},{children:[o("h2",tn({className:"fs-4"},{children:"Ranges"}),void 0),o(qe,{gauges:i},void 0)]}),void 0),o("div",tn({className:"mb-5"},{children:[o("h2",tn({className:"fs-4"},{children:"History"}),void 0),o(Qe,{version:n,history:l},void 0)]}),void 0),o("div",tn({className:"row mb-5"},{children:o("div",tn({className:"col"},{children:[o("h2",tn({className:"fs-4"},{children:"Links"}),void 0),o("ul",tn({className:"list-group list-group-flush"},{children:o("li",tn({className:"list-group-item"},{children:o("a",tn({href:c.folder,target:"_blank",rel:"noreferrer"},{children:["Github folder",o(Ce,{className:"ms-1"},void 0)]}),void 0)}),void 0)}),void 0)]}),void 0)}),void 0)]},void 0)};var nn=function(){return nn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},nn.apply(this,arguments)};const rn=function(){var t=Gt(),e=t.version,n=t.location,r=ce(At(e,"locations","".concat(n,".json")));return o(De,nn({model:r,redirectNotFound:!0},{children:function(t){return o(en,{version:e,location:n,data:t},void 0)}}),void 0)};var on=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},an=function(){return an=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},an.apply(this,arguments)};const ln=function(t){var e=t.pageCount,n=t.currentPage,r=t.maxItemCount,a=t.handleNavigate,i=function(t,e,n){var r,o,a=Math.min(t,n),i=Math.floor(a/2),l=a-i-1;e<=i?(r=1,o=a):e+l>=t?(o=t,r=t-a+1):(r=e-i,o=e+l);for(var c=[],s=[],u=r;u<e;u++)c.push(u);for(u=e+1;u<=o;u++)s.push(u);return[c,s]}(e,n,r),l=i[0],c=i[1];return o("nav",an({"aria-label":"pagination"},{children:o("ul",an({className:"pagination pagination-sm flex-wrap justify-content-end",onClick:function(t){var e=t.target;if(e instanceof HTMLElement&&e.dataset.page){t.preventDefault();var n=parseInt(e.dataset.page,10);a(n),e.blur()}}},{children:[o("li",an({className:Ft(cn||(cn=on(["page-item d-none d-sm-block ",""],["page-item d-none d-sm-block ",""])),1===n&&"disabled")},{children:o("a",an({className:"page-link",href:"#","data-page":"1"},{children:"First"}),void 0)}),void 0),o("li",an({className:Ft(sn||(sn=on(["page-item ",""],["page-item ",""])),1===n&&"disabled")},{children:o("a",an({className:"page-link",href:"#","data-page":n-1},{children:"Previous"}),void 0)}),void 0),l.map((function(t){return o("li",an({className:"page-item d-none d-md-block"},{children:o("a",an({className:"page-link",href:"#","data-page":t},{children:t}),void 0)}),t)})),o("li",an({className:"page-item active"},{children:o("span",an({className:"page-link"},{children:n}),void 0)}),void 0),c.map((function(t){return o("li",an({className:"page-item d-none d-md-block"},{children:o("a",an({className:"page-link",href:"#","data-page":t},{children:t}),void 0)}),t)})),o("li",an({className:Ft(un||(un=on(["page-item ",""],["page-item ",""])),n===e&&"disabled")},{children:o("a",an({className:"page-link",href:"#","data-page":n+1},{children:"Next"}),void 0)}),void 0),o("li",an({className:Ft(dn||(dn=on(["page-item d-none d-sm-block ",""],["page-item d-none d-sm-block ",""])),n===e&&"disabled")},{children:o("a",an({className:"page-link",href:"#","data-page":e},{children:"Last"}),void 0)}),void 0)]}),void 0)}),void 0)};var cn,sn,un,dn,fn=function(){return fn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fn.apply(this,arguments)};const pn=function(t){var e=t.field,n=t.sort,r=t.handleSort,i=n.active,l=n.order,c=(0,a.useCallback)((function(){r(e)}),[e,r]);return o("button",fn({className:"rr-table__sort-button",type:"button",title:i?"asc"===l?"Sort ascending":"Sort descending":"Sort",onClick:c},{children:[i&&"asc"===l&&o(je,{className:"rr-table__sort-icon-asc"},void 0),i&&"desc"===l&&o(Pe,{className:"rr-table__sort-icon-desc"},void 0),!i&&o(ke,{className:"rr-table__sort-icon"},void 0)]}),void 0)};var hn=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},vn=function(){return vn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},vn.apply(this,arguments)};function mn(t,e,n,r){switch(void 0===n&&(n="text"),void 0===r&&(r={}),n){case"text":return t;case"float":return"".concat(t);case"link":return function(t,e,n){var r=e[n.urlField];return o(bt,vn({to:r},{children:t}),void 0)}(t,e,r);case"custom":return function(t,e){return e.formatter(t)}(t,r);default:throw new Error("Unknown format")}}function gn(t,e){var n,r=t.frozen,o=void 0!==r&&r;return Ft(bn||(bn=hn([""," "," ",""],[""," "," ",""])),o&&"rr-frozen-column",!!t.className&&t.className,!!e&&(null!==(n=e[t.field])&&void 0!==n?n:""))}const yn=function(t){var e=t.columns,n=t.data,r=t.className,a=void 0===r?"":r,i=t.cellClassNames,l=void 0===i?[]:i,c=t.fieldSorts,s=void 0===c?{}:c,u=t.handleSort,d=void 0===u?Yt.noop:u;return o("table",vn({className:Ft(_n||(_n=hn(["table ",""],["table ",""])),a)},{children:[o("thead",{children:o("tr",{children:e.map((function(t){return o("th",vn({scope:"col",className:gn(t)},{children:[t.title,t.sortable&&o(pn,{field:t.field,sort:s[t.field],handleSort:d},void 0)]}),t.field)}))},void 0)},void 0),o("tbody",{children:n.map((function(t,n){return o("tr",{children:e.map((function(e){return o("td",vn({className:gn(e,l[n])},{children:mn(t[e.field],t,e.format,e.formatParams)}),e.field)}))},n)}))},void 0)]}),void 0)};var bn,_n;function wn(t){return t.reduce((function(t,e){return t[e.field]={active:!1,order:"asc"},t}),{})}function On(t){return t.reduce((function(t,e){return t[e.field]=null,t}),{})}function xn(t){return t.reduce((function(t,e){var n=e.field,r=e.sortKey;return t[n]=null!=r?r:Yt.identity,t}),{})}function Nn(t){return t.startsWith("*")?t.endsWith("*")?{contains:t.slice(1,-1)}:{endsWith:t.slice(1)}:t.endsWith("*")?{startsWith:t.slice(0,-1)}:{startsWith:t}}var Cn={equals:function(t,e){return t===e},startsWith:function(t,e){return t.startsWith(e)},endsWith:function(t,e){return t.endsWith(e)},contains:function(t,e){return t.indexOf(e)>-1},lessThanEqual:function(t,e){return t<=e},greaterThanEqual:function(t,e){return t>=e},anyIn:function(t,e){for(var n=0,r=t;n<r.length;n++){var o=r[n];if(e.has(o))return!0}return!1}};var Sn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jn=function(){return jn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},jn.apply(this,arguments)},Pn=function(t){function e(e,n,r){var o=t.call(this)||this,a={columns:e,data:[],pageSize:n,pageCount:0,sorts:[],fieldSorts:wn(e),fieldSortKeys:xn(e),filters:On(e),currentPage:1,maxItemCount:r,sortedRows:[],filteredRows:[]};return o.assignInitialState(a),o}return Sn(e,t),e.prototype._getUpdatedFilters=function(t,e,n){var r,o,a,i=this.state.filters,l=null!==(a=i[t])&&void 0!==a?a:{};return jn(jn({},i),((r={})[t]=jn(jn({},l),((o={})[e]=n,o)),r))},e.prototype._applyFilters=function(){var t=this.state,e=t.filters,n=t.pageSize,r=function(t,e){var n=function(t){var e=[];return Object.keys(t).forEach((function(n){var r=t[n];null!==r&&Object.keys(r).forEach((function(t){if(null!==r[t]){var o=r[t],a=Cn[t];e.push((function(t){return a(t[n],o)}))}}))})),0===e.length?null:function(t){return e.every((function(e){return e(t)}))}}(t);return null===n?e:e.filter(n)}(e,t.sortedRows),o=function(t,e){return Math.max(Math.ceil(t.length/e),1)}(r,n);this.update({filteredRows:r,pageCount:o,currentPage:1})},e.prototype._applySorts=function(){var t=this,e=this.state,n=function(t,e,n,r){if(0===n.length)return r;var o=function(t,e,n){for(var r=[],o=[],a=function(n){var a=t[n].order,i=e[n];r.push(a),o.push((function(t){return i(t[n])}))},i=0,l=n;i<l.length;i++)a(l[i]);return[r,o]}(t,e,n),a=o[0],i=o[1];return(0,Yt.orderBy)(r,i,a)}(e.fieldSorts,e.fieldSortKeys,e.sorts,e.data);this.batch((function(){t.update({sortedRows:n}),t._applyFilters()}))},e.prototype.setData=function(t){var e=this;this.batch((function(){e.update({data:t}),e._applySorts()}))},e.prototype.navigate=function(t){var e=this.state.pageCount;t>=1&&t<=e&&this.update({currentPage:t})},e.prototype.setSortOrder=function(t,e){var n=this,r=this.state.fieldSorts;r[t].order=e,this.batch((function(){n.update({fieldSorts:r}),r[t].active&&n._applySorts()}))},e.prototype.toggleSortActive=function(t){var e=this,n=this.state,r=n.fieldSorts,o=n.sorts,a=r[t].active;r[t].active=!a;var i=o.indexOf(t);-1===i?o.unshift(t):o.splice(i,1),this.batch((function(){e.update({fieldSorts:r,sorts:o}),e._applySorts()}))},e.prototype.toggleSort=function(t){var e=this,n=this.state.fieldSorts[t],r=n.active,o=n.order;this.batch((function(){r?"asc"===o?e.setSortOrder(t,"desc"):(e.toggleSortActive(t),e.setSortOrder(t,"asc")):e.toggleSortActive(t)}))},e.prototype.setFilter=function(t,e,n){var r=this,o=this._getUpdatedFilters(t,e,n);this.batch((function(){r.update({filters:o}),r._applyFilters()}))},e.prototype.clearFilter=function(t,e){var n=this,r=this._getUpdatedFilters(t,e,null);this.batch((function(){n.update({filters:r}),n._applyFilters()}))},e.prototype.setFilters=function(t){var e=this;this.batch((function(){e.update({filters:t}),e._applyFilters()}))},e.prototype.getRowCount=function(){return this.state.filteredRows.length},e.prototype.getFilteredData=function(){var t=this.state,e=t.pageSize;return function(t,e,n){return t.slice(n*(e-1),n*e)}(t.filteredRows,t.currentPage,e)},e}(Qt);const kn=Pn;var En=function(){return En=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},En.apply(this,arguments)};function Mn(){return o(e.Fragment,{children:[o("p",{children:"Show all locations whose names begin with the search term. The following wildcard (*) searches are also available:"},void 0),o("ul",{children:[o("li",{children:"*SOUTH matches all locations whose names end with SOUTH, e.g. FAIR-ISLE-SOUTH."},void 0),o("li",{children:"*SOUTH* matches all locations whose name contain SOUTH anywhere, e.g. BERMONDSEY-SOUTHWARK-PARK, SOUTHAM, FAIR-ISLE-SOUTH."},void 0),o("li",{children:"For completeness SOUTH* matches all locations whose names begin with SOUTH, e.g. SOUTHAM."},void 0)]},void 0),o("p",{children:["Other wildcard searches are ",o("b",{children:"not"},void 0)," supported, e.g. SO*H."]},void 0)]},void 0)}const An=function(t){var e=t.model;le(e);var n=(0,a.useCallback)((function(t){if(t.target instanceof HTMLInputElement){var n=t.target.value;""===n?e.clearFilter():e.setFilter(n)}}),[e]),r=e.state.name;return o("div",En({className:"d-flex flex-column align-items-start mb-3"},{children:[o("div",En({className:"d-flex flex-row mb-1"},{children:[o("label",En({htmlFor:"search-input"},{children:"Search"}),void 0),o(Ae,En({className:"ms-1"},{children:o(Mn,{},void 0)}),void 0)]}),void 0),o("div",En({className:"d-flex flex-row"},{children:o(ye,{type:"text",className:"form-control",id:"search-input",placeholder:"Location",onInput:n,value:r,autoComplete:"off",spellcheck:!1},void 0)}),void 0)]}),void 0)},Fn=function(t){var e=t.model.children,n=e.filter,r=e.table;le(r);var i=r.state,l=i.columns,c=i.currentPage,s=i.pageCount,u=i.maxItemCount,d=i.fieldSorts,f=r.getFilteredData(),p=(0,a.useCallback)((function(t){r.navigate(t)}),[r]),h=(0,a.useCallback)((function(t){r.toggleSort(t)}),[r]);return o("div",{children:[o(An,{model:n},void 0),o(yn,{className:"table-striped table-bordered",columns:l,data:f,fieldSorts:d,handleSort:h},void 0),o(ln,{pageCount:s,currentPage:c,maxItemCount:u,handleNavigate:p},void 0)]},void 0)};var Tn=function(){return Tn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Tn.apply(this,arguments)};const In=function(t){var n=t.model,r=$t(),a=n.children.versions.getChild(r).children,i=a.fetcher,l=a.locations;return ce(Mt(r,"metadata.json"),i),o(e.Fragment,{children:[o("h1",Tn({className:"mb-5"},{children:"Locations"}),void 0),o(De,Tn({model:i},{children:function(){return o(Fn,{model:l},void 0)}}),void 0)]},void 0)};var Ln=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Rn=function(t){function e(){var e=t.call(this)||this;return e.assignInitialState({name:""}),e}return Ln(e,t),e.prototype.setFilter=function(t){this.update({name:Rt(t)})},e.prototype.clearFilter=function(){this.update({name:""})},e}(Qt);var Dn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vn=[{field:"location",title:"Location",format:"link",formatParams:{urlField:"url"},sortable:!0}],Hn=function(t){function e(e){var n=t.call(this)||this,r={version:e};return n.assignInitialState(r),n.addChild("filter",new Rn),n.addChild("table",new kn(Vn,10,3)),n}return Dn(e,t),e.prototype.onChanges=function(t){if((0,Yt.has)(t,"filter")){var e={url:null,location:Nn(this.children.filter.state.name)};this.children.table.setFilters(e)}},e.prototype.setData=function(t){this.children.table.setData(function(t){var e=t.map((function(t){var e=t.name;return{location:e,url:e}}));return e}(t.locations)),this.children.filter.clearFilter()},e}(Qt);const Un=Hn;var Wn=function(){return Wn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Wn.apply(this,arguments)};function zn(t){var e=t.label,n=t.children;return o("li",Wn({className:"list-group-item d-flex"},{children:[o("div",{children:e},void 0),o("div",Wn({className:"ms-auto"},{children:n}),void 0)]}),void 0)}const Bn=function(t){var e=t.metadata;return o("ul",Wn({className:"list-group list-group-flush"},{children:[o(zn,Wn({label:"Title"},{children:e.station}),void 0),o(zn,Wn({label:"Station number"},{children:e.stationNo}),void 0),o(zn,Wn({label:"Grid reference"},{children:e.gridRef}),void 0),o(zn,Wn({label:"Longitude"},{children:e.lon}),void 0),o(zn,Wn({label:"Latitude"},{children:e.lat}),void 0),o(zn,Wn({label:"Elevation"},{children:"".concat(e.elevation,"ft")}),void 0),o(zn,Wn({label:"County"},{children:"".concat(e.counties.join(", "))}),void 0)]}),void 0)};var Gn=function(){return Gn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Gn.apply(this,arguments)},$n=xt.mapping.gaugeMap,Yn=$n.size,Kn=Yn.width,Zn=Yn.height,qn=$n.origin,Jn=qn.x0,Xn=qn.y0,Qn=1e3,tr=Math.floor(Qn*Zn/Kn);const er=function(t){var e=function(t,e){var n=function(t,e){var n=t*Math.PI/180,r=e*Math.PI/180,o=6378137;return[o*n,o*Math.log(Math.tan(Math.PI/4+r/2))]}(t,e),r=n[0],o=n[1];return[Math.floor(Qn*(r-Jn)/Kn),Math.floor(tr*(Zn-o+Xn)/Zn)]}(t.lon,t.lat),n=e[0],r=e[1];return o("div",Gn({className:"d-flex justify-content-center"},{children:o("svg",Gn({xmlns:"http://www.w3.org/2000/svg",height:"400px",viewBox:"0 0 ".concat(Qn," ").concat(tr)},{children:[o("image",{href:kt("map.svg"),height:"100%"},void 0),o("circle",{cx:n,cy:r,r:"15",fill:"red"},void 0)]}),void 0)}),void 0)};ChartZoom;var nr=function(){return nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},nr.apply(this,arguments)};const rr=function(t){var e=t.table,n=Bt(),r=n[0],i=n[1],l=Bt(),c=l[0],s=l[1],u=(0,a.useRef)(null);(0,a.useEffect)((function(){if(null!==r)return u.current=function(t,e){for(var n,r,o=e[0],a=o.length,i=[],l=0;l<a;l++)for(var c=o[l],s=1;s<e.length-1;s++){var u=e[s][l],d=Be.DateTime.fromObject({year:c,month:s});""===u||-999==Number(u)?i.push({x:d,y:null}):i.push({x:d,y:Number(u)})}var f=t.getContext("2d");if(null===f)return null;var p=new ze.Chart(f,{type:"line",data:{datasets:[{label:"Monthly Rainfall",data:i,borderWidth:1,borderColor:"rgb(255, 0, 0)"}]},options:{animation:!1,maintainAspectRatio:!1,scales:{x:{type:"time",title:{display:!0,text:"Date"},time:{unit:"year",tooltipFormat:"MMMM yyyy"}},y:{title:{display:!0,text:"Rainfall (in)"},min:0}},plugins:{legend:{onClick:Yt.noop},zoom:{pan:{enabled:!0,mode:"x"},zoom:{mode:"x",wheel:{enabled:!0}},limits:{x:{min:"original",max:"original"}}}}}}),h=p.scales.y.max,v=null===(r=null===(n=null==p?void 0:p.options)||void 0===n?void 0:n.scales)||void 0===r?void 0:r.y;return void 0!==v&&(v.max=h),p.update(),p}(r,e),function(){null!==u.current&&u.current.destroy()}}),[r,u,e]);var d=(0,a.useCallback)((function(){c&&c.classList.add("rr-gauge-chart__wrapper--show-scroll-message")}),[c]);return function(t,e,n){var r=(0,a.useState)(!1),o=r[0],i=r[1],l=(0,a.useCallback)((function(t){return i(!0),n instanceof Function?n(t):n.handleEvent(t)}),[n]);(0,a.useEffect)((function(){if(t)return o||t.addEventListener(e,l,{once:!0}),function(){t&&t.removeEventListener(e,l)}}),[t,e,o,i,l])}(c,"mouseover",d),o("div",nr({ref:s,className:"rr-gauge-chart__wrapper position-relative"},{children:[o("div",nr({className:"rr-gauge-chart__container position-relative"},{children:o("canvas",{ref:i},void 0)}),void 0),o("div",nr({className:"rr-gauge-chart__scroll-message"},{children:"Scroll to zoom"}),void 0)]}),void 0)};var or=function(){return or=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},or.apply(this,arguments)},ar=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ir=["January","February","March","April","May","June","July","August","September","October","November","December"];const lr=function(t){var e=t.table,n=t.cellClassNames,r=e[0],i=(0,a.useMemo)((function(){for(var t=[{field:"month",title:"",frozen:!0}],e=0;e<r.length;e++){var n=r[e];t.push({field:"".concat(n),title:"".concat(n)})}return t}),[r]),l=(0,a.useMemo)((function(){for(var t=ar(ar([],ir,!0),["Total"],!1),n=[],o=1;o<e.length;o++){for(var a={month:t[o-1]},i=0;i<e[o].length;i++)a[r[i]]=e[o][i];n.push(a)}return n}),[r,e]);return o("div",or({className:"table-responsive position-relative"},{children:o(yn,{className:"table-striped table-sm rr-table__frozen-column",columns:i,data:l,cellClassNames:n},void 0)}),void 0)};var cr=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};function sr(t,e,n){return e?n?"".concat(e," (").concat(n,")"):e:n||"Data source ".concat(t+1)}var ur=function(){return ur=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ur.apply(this,arguments)};function dr(t){var e=t.classNameMap;return o("div",ur({className:"d-flex flex-column"},{children:Array.from(e).map((function(t){var e,n,r=t[0],a=t[1];return o("div",ur({className:"px-2 py-1"},{children:[o("div",{className:Ft(pr||(e=["rr-gauge-tyr-file-key ",""],n=["rr-gauge-tyr-file-key ",""],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,pr=e),a)},void 0),o("span",{children:r},void 0)]}),r)}))}),void 0)}const fr=function(t){var e=t.table,n=t.structure,r=(0,a.useMemo)((function(){return function(t){for(var e=[],n=1;n<14;n++)e.push({});for(var r=new Map,o=function(t){var e=cr(cr([],t.data,!0),t.external,!0);return Tt(e,(function(t){return t.startDate})),e}(t),a=0,i=0,l=o;i<l.length;i++){var c=l[i],s=c.filename,u=c.comment,d=sr(a,s,u);r.has(d)||r.set(d,"rr-background-color-".concat(a++))}for(var f=function(t,n,o,i){var l=Lt(o),c=Lt(i),s=sr(a,t,n);!function(t,e,n){var r=t[0],o=t[1],a=e[0],i=e[1];if(r===a)for(var l=o;l<=i;l++)n([r,l]);else{for(l=o;l<14;l++)n([r,l]);for(var c=r+1;c<a;c++)for(l=1;l<14;l++)n([c,l]);for(l=1;l<=i;l++)n([a,l])}}(l,c,(function(t){var n=t[0],o=t[1];e[o-1][n]=r.get(s)||""}))},p=0,h=o;p<h.length;p++){var v=h[p];f(s=v.filename,u=v.comment,v.startDate,v.endDate)}return[e,r]}(n)}),[n]),i=r[0],l=r[1];return o("div",{children:[o("div",ur({className:"mb-3"},{children:o(lr,{table:e,cellClassNames:i},void 0)}),void 0),o(dr,{classNameMap:l},void 0)]},void 0)};var pr;const hr=function(t){return o("ul",{children:t.comments.map((function(t,e){return o("li",{children:t},e)}))},void 0)};var vr=function(){return vr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},vr.apply(this,arguments)};function mr(t){var e=t.currentVersion,n=t.entry,r=n.version,a=n.location,i=n.name,l=n.changes;return o("li",vr({className:"list-group-item d-flex flex-row"},{children:[o("div",vr({className:"rr-gauge-history-line__version"},{children:r===e||null===a||null===i?o("span",{children:r},void 0):o(bt,vr({to:"/".concat(r,"/locations/").concat(a,"/").concat(i)},{children:r}),void 0)}),void 0),o("div",vr({className:"flex-grow-1"},{children:o("ul",vr({className:"rr-gauge-history-line__changes"},{children:l.map((function(t,e){return o("li",{children:t},e)}))}),void 0)}),void 0)]}),void 0)}const gr=function(t){var e=t.version,n=t.history;return o("ul",vr({className:"list-group list-group-flush"},{children:n.map((function(t){return 0==t.changes.length?null:o(mr,{currentVersion:e,entry:t},void 0)}))}),void 0)};var yr=function(){return yr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},yr.apply(this,arguments)};const br=function(t){var n=t.version,r=t.name,a=t.data,i=a.metadata,l=a.table,c=a.structure,s=a.comments,u=a.history,d=a.links,f=i.lon,p=i.lat;return o(e.Fragment,{children:[o("h1",yr({className:"mb-5"},{children:r}),void 0),o("div",yr({className:"row gx-5"},{children:[o("div",yr({className:"col-md mb-5"},{children:[o("h2",yr({className:"fs-4"},{children:"Metadata"}),void 0),o(Bn,{metadata:i},void 0)]}),void 0),null!==f&&null!==p&&o("div",yr({className:"col-md mb-5"},{children:[o("h2",yr({className:"fs-4"},{children:"Map"}),void 0),o(er,{lon:f,lat:p},void 0)]}),void 0)]}),void 0),o("div",yr({className:"mb-5"},{children:[o("h2",yr({className:"fs-4"},{children:"Rainfall"}),void 0),o(rr,{table:l},void 0)]}),void 0),o("div",yr({className:"mb-5"},{children:[o("h2",yr({className:"fs-4"},{children:"Data"}),void 0),o(fr,{table:l,structure:c},void 0)]}),void 0),s.length>0&&o("div",yr({className:"mb-5"},{children:[o("h2",yr({className:"fs-4"},{children:"Notes"}),void 0),o(hr,{comments:s},void 0)]}),void 0),o("div",yr({className:"mb-5"},{children:[o("h2",yr({className:"fs-4"},{children:"History"}),void 0),o(gr,{version:n,history:u},void 0)]}),void 0),o("div",yr({className:"row mb-5"},{children:o("div",yr({className:"col"},{children:[o("h2",yr({className:"fs-4"},{children:"Links"}),void 0),o("ul",yr({className:"list-group list-group-flush"},{children:o("li",yr({className:"list-group-item"},{children:o("a",yr({href:d.dataFile,target:"_blank",rel:"noreferrer"},{children:["Data file",o(Ce,{className:"ms-1"},void 0)]}),void 0)}),void 0)}),void 0)]}),void 0)}),void 0)]},void 0)};var _r=function(){return _r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_r.apply(this,arguments)};const wr=function(){var t=Gt(),e=t.version,n=t.gauge,r=ce(At(e,"gauges","".concat(n,".json")));return o(De,_r({model:r,redirectNotFound:!0},{children:function(t){return o(br,{version:e,name:n,data:t},void 0)}}),void 0)};var Or=function(){return Or=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Or.apply(this,arguments)};function xr(t){var e=t.id,n=t.label,r=t.model,i=t.info,l=t.children;le(r);var c=r.state.active,s=(0,a.useCallback)((function(){r.toggleActive()}),[r]);return o("div",Or({className:"d-flex flex-column align-items-start mb-3"},{children:[o("div",Or({className:"d-flex flex-row"},{children:[o("input",{className:"form-check-input",type:"checkbox",checked:c,id:e,onChange:s},void 0),o("label",Or({className:"form-check-label ms-2",for:e},{children:n}),void 0),i&&o(Ae,Or({className:"ms-1 flex-grow-1"},{children:i}),void 0)]}),void 0),c&&l]}),void 0)}var Nr=function(){return Nr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Nr.apply(this,arguments)};function Cr(){return o(e.Fragment,{children:[o("p",{children:"Show all gauges whose names begin with the search term. The following wildcard (*) searches are also available:"},void 0),o("ul",{children:[o("li",{children:"*SOUTH matches all gauges whose names end with SOUTH, e.g. FAIR-ISLE-SOUTH."},void 0),o("li",{children:"*SOUTH* matches all gauges whose names contain SOUTH anywhere, e.g. BERMONDSEY-SOUTHWARK-PARK, SOUTHAM, FAIR-ISLE-SOUTH."},void 0),o("li",{children:"For completeness SOUTH* matches all gauges whose names begin with SOUTH, e.g. SOUTHAM."},void 0)]},void 0),o("p",{children:["Other wildcard searches are ",o("b",{children:"not"},void 0)," supported, e.g. SO*H."]},void 0)]},void 0)}const Sr=function(t){var e=t.model;le(e);var n=e.state.name,r=(0,a.useCallback)((function(t){if(t.target instanceof HTMLInputElement){var n=t.target.value;""===n?e.clearFilter():e.setFilter(n)}}),[e]);return o(xr,Nr({id:"filter-name",label:"Name",model:e,info:o(Cr,{},void 0)},{children:o("div",Nr({className:"d-flex flex-column mt-3"},{children:[o("label",Nr({className:"mb-1",for:"filter-name-input"},{children:"Name"}),void 0),o(ye,{type:"text",className:"form-control",id:"filter-name-input",placeholder:"Gauge",onInput:r,value:n,autoComplete:"off",spellcheck:!1},void 0)]}),void 0)}),void 0)};var jr=function(){return jr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},jr.apply(this,arguments)};function Pr(){return o(e.Fragment,{children:"Show all gauges with at least one associated county in the selected list."},void 0)}function kr(t){var e=t.title,n=t.handleSelectAll,r=t.handleSelectNone;return o("div",jr({className:"d-flex flex-column align-items-start"},{children:[o("div",jr({className:"fs-5"},{children:e}),void 0),o("div",jr({className:"d-flex flex-row"},{children:[o("button",jr({className:"btn btn-sm btn-link",type:"button",onClick:n},{children:"Select all"}),void 0),o("button",jr({className:"btn btn-sm btn-link",type:"button",onClick:r},{children:"Select none"}),void 0)]}),void 0)]}),void 0)}function Er(t){var e=t.country,n=t.model,r=n.state,i=r.countriesMap,l=r.countiesFilters,c=i[e]||[],s=(0,a.useCallback)((function(){n.setCountry(e,!0)}),[e,n]),u=(0,a.useCallback)((function(){n.setCountry(e,!1)}),[e,n]);return o("div",jr({className:"mt-3"},{children:[o(kr,{title:e,handleSelectAll:s,handleSelectNone:u},void 0),o("div",jr({className:"d-flex flex-column mt-1"},{children:c.map((function(t){return o("div",jr({className:"d-flex flex-row my-1"},{children:[o("input",{className:"form-check-input",type:"checkbox",checked:l[t],id:"filter-".concat(t),"data-county":t},void 0),o("label",jr({className:"form-check-label ms-2",for:"filter-".concat(t)},{children:t}),void 0)]}),t)}))}),void 0)]}),void 0)}const Mr=function(t){var e=t.model;le(e);var n=(0,a.useCallback)((function(t){var n,r=t.target;if(r.hasAttribute("data-county")){var o=null!==(n=r.getAttribute("data-county"))&&void 0!==n?n:"";e.toggleCounty(o)}}),[e]),r=(0,a.useCallback)((function(){e.setAll(!0)}),[e]),i=(0,a.useCallback)((function(){e.setAll(!1)}),[e]);return o(xr,jr({id:"filter-county",label:"County",model:e,info:o(Pr,{},void 0)},{children:o("div",jr({className:"rr-filter-county mt-3 py-3 px-3 w-100 border"},{children:[o(kr,{title:"Counties",handleSelectAll:r,handleSelectNone:i},void 0),o("div",jr({className:"d-flex flex-column",onChange:n},{children:[o(Er,{country:"England",model:e},void 0),o(Er,{country:"Scotland",model:e},void 0),o(Er,{country:"Wales",model:e},void 0),o(Er,{country:"Northern Ireland",model:e},void 0),o(Er,{country:"Republic of Ireland",model:e},void 0),o(Er,{country:"Islands",model:e},void 0)]}),void 0)]}),void 0)}),void 0)};var Ar=function(){return Ar=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Ar.apply(this,arguments)};function Fr(t){var e=t.id,n=t.label,r=t.unit,i=t.model;le(i);var l=i.state,c=l.startValue,s=l.minValue,u=l.maxValue,d=(0,a.useCallback)((function(t){""===t.target.value?i.setStartValue(s):i.update({})}),[i,s]),f=(0,a.useMemo)((function(){return(0,Yt.throttle)((function(t){var e=parseInt(t.target.value,10);s<=e&&e<=u&&i.setStartValue(e)}),250)}),[i,s,u]);return o("div",Ar({className:"d-flex flex-column flex-wrap me-5"},{children:[o("label",Ar({className:"mb-1",for:"".concat(e,"-start-value")},{children:n}),void 0),o("div",Ar({className:"input-group"},{children:[o("input",{className:"form-control",id:"".concat(e,"-start-value"),type:"number",placeholder:"".concat(s),value:c,min:s,max:u,onInput:f,onBlur:d},void 0),r&&o("span",Ar({className:"input-group-text"},{children:r}),void 0)]}),void 0)]}),void 0)}function Tr(t){var e=t.id,n=t.label,r=t.unit,i=t.model;le(i);var l=i.state,c=l.endValue,s=l.minValue,u=l.maxValue,d=(0,a.useCallback)((function(t){""===t.target.value?i.setEndValue(u):i.update({})}),[i,u]),f=(0,a.useMemo)((function(){return(0,Yt.throttle)((function(t){var e=parseInt(t.target.value,10);s<=e&&e<=u&&i.setEndValue(e)}),250)}),[i,s,u]);return o("div",Ar({className:"d-flex flex-column"},{children:[o("label",Ar({className:"mb-1",for:"".concat(e,"-end-value")},{children:n}),void 0),o("div",Ar({className:"input-group"},{children:[o("input",{className:"form-control",id:"".concat(e,"-end-value"),type:"number",placeholder:"".concat(u),value:c,min:s,max:u,onInput:f,onBlur:d},void 0),r&&o("span",Ar({className:"input-group-text"},{children:r}),void 0)]}),void 0)]}),void 0)}function Ir(t){var e=t.id,n=t.checkLabel,r=t.startLabel,a=t.endLabel,i=t.unit,l=t.model,c=t.info;return le(l),o(xr,Ar({id:e,label:n,model:l,info:c},{children:o("div",Ar({className:"rr-filter-range d-flex flex-row mt-3"},{children:[o(Fr,{id:e,label:r,model:l,unit:i},void 0),o(Tr,{id:e,label:a,model:l,unit:i},void 0)]}),void 0)}),void 0)}function Lr(){return o(e.Fragment,{children:"Show all gauges that either fully or partially overlap the year range."},void 0)}const Rr=function(t){return o(Ir,{id:"filter-year",checkLabel:"Year",startLabel:"Start",endLabel:"End",model:t.model,info:o(Lr,{},void 0)},void 0)};function Dr(){return o(e.Fragment,{children:"Show all gauges whose durations lie within the range. Duration is computed as end year - start year + 1."},void 0)}const Vr=function(t){return o(Ir,{id:"filter-duration",checkLabel:"Duration",startLabel:"Min",endLabel:"Max",unit:"yr",model:t.model,info:o(Dr,{},void 0)},void 0)};function Hr(){return o(e.Fragment,{children:"Show all gauges whose elevations lie within the range."},void 0)}const Ur=function(t){return o(Ir,{id:"filter-elevation",checkLabel:"Elevation",startLabel:"Min",endLabel:"Max",unit:"ft",model:t.model,info:o(Hr,{},void 0)},void 0)};var Wr=function(){return Wr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Wr.apply(this,arguments)};function zr(t){var e=t.model.children,n=e.filterName,r=e.filterCounty,a=e.filterYear,i=e.filterDuration,l=e.filterElevation;return o("div",{children:[o("h2",Wr({className:"fs-4"},{children:"Filters"}),void 0),o("div",Wr({className:"mt-3"},{children:[o(Sr,{model:n},void 0),o(Mr,{model:r},void 0),o(Rr,{model:a},void 0),o(Vr,{model:i},void 0),o(Ur,{model:l},void 0)]}),void 0)]},void 0)}var Br=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Gr=function(t){function e(){var e=t.call(this)||this;return e.assignInitialState({active:!1}),e}return Br(e,t),e.prototype.toggleActive=function(){var t=this.state.active;this.update({active:!t})},e}(Qt);var $r=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yr=function(t){function e(){var e=t.call(this)||this;return e.assignInitialState({minValue:0,maxValue:0,startValue:0,endValue:0}),e}return $r(e,t),e.prototype.setValues=function(t,e,n,r){this.update({minValue:t,maxValue:e,startValue:n,endValue:r})},e.prototype.setStartValue=function(t){var e=this.state,n=e.endValue,r=It(t,e.minValue,e.maxValue),o=Math.max(n,r);this.update({startValue:r,endValue:o})},e.prototype.setEndValue=function(t){var e=this.state,n=e.startValue,r=It(t,e.minValue,e.maxValue),o=Math.min(n,r);this.update({startValue:o,endValue:r})},e}(Gr);const Kr=Yr;var Zr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const qr=function(t){function e(){var e=t.call(this)||this;return e.assignInitialState({name:""}),e}return Zr(e,t),e.prototype.setFilter=function(t){this.update({name:Rt(t)})},e.prototype.clearFilter=function(){this.update({name:""})},e}(Gr);var Jr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xr=function(t){function e(){var e=t.call(this)||this;return e.assignInitialState({countriesMap:{},countiesFilters:{}}),e}return Jr(e,t),e.prototype.setData=function(t,e){var n=function(t,e){for(var n={},r=0,o=t;r<o.length;r++)n[o[r].name]=[];for(var a=0,i=e;a<i.length;a++){var l=i[a],c=l.name;n[t[l.countryIndex].name].push(c)}return n}(t,e),r=function(t){for(var e={},n=0,r=t;n<r.length;n++)e[r[n].name]=!0;return e}(e);this.update({countriesMap:n,countiesFilters:r})},e.prototype.toggleCounty=function(t){var e=this.state.countiesFilters;e[t]=!e[t],this.update({countiesFilters:e})},e.prototype.setCountry=function(t,e){for(var n=this.state,r=n.countriesMap,o=n.countiesFilters,a=0,i=r[t];a<i.length;a++)o[i[a]]=e;this.update({countiesFilters:o})},e.prototype.setAll=function(t){var e=this.state.countiesFilters;for(var n in e)e[n]=t;this.update({countiesFilters:e})},e}(Gr);const Qr=Xr;var to=function(){function t(){this.min=1/0,this.max=-1/0}return Object.defineProperty(t.prototype,"range",{get:function(){return[this.min,this.max]},enumerable:!1,configurable:!0}),t.prototype.update=function(t,e){void 0===e&&(e=t),this.min=Math.min(this.min,t),this.max=Math.max(this.max,e)},t}(),eo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),no=function(t){function e(){var e=t.call(this)||this;return e.addChild("filterName",new qr),e.addChild("filterCounty",new Qr),e.addChild("filterYear",new Kr),e.addChild("filterElevation",new Kr),e.addChild("filterDuration",new Kr),e}return eo(e,t),e.prototype.setData=function(t){var e=this.children,n=e.filterName,r=e.filterYear,o=e.filterElevation,a=e.filterDuration,i=e.filterCounty,l=function(t){for(var e=new to,n=new to,r=new to,o=0,a=t.gauges;o<a.length;o++){var i=a[o],l=i.startYear,c=i.endYear,s=i.elevation;e.update(l,c),null!==s&&n.update(s),r.update(c-l+1)}return[e.range,n.range,r.range]}(t),c=l[0],s=c[0],u=c[1],d=l[1],f=d[0],p=d[1],h=l[2],v=h[0],m=h[1],g=t.countries,y=t.counties;this.batch((function(){n.clearFilter(),r.setValues(s,u,s,u),o.setValues(f,p,f,p),a.setValues(v,m,v,m),i.setData(g,y)}))},e}(Qt);const ro=no,oo=maplibregl;var ao=t.n(oo);const io=arcgisRest;var lo=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{c(r.next(t))}catch(t){a(t)}}function l(t){try{c(r.throw(t))}catch(t){a(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,l)}c((r=r.apply(t,e||[])).next())}))},co=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},so=xt.mapping.esriApiKey,uo=180/Math.PI;function fo(t,e){return t/Math.pow(2,e)*360-180}function po(t,e){var n=Math.PI-2*Math.PI*t/Math.pow(2,e);return uo*Math.atan(.5*(Math.exp(n)-Math.exp(-n)))}function ho(t){var e=new Blob,n=URL.createObjectURL(e),r=/tile\/(\d+)\/(\d+)\/(\d+)\.pbf/;return function(e){var o=r.exec(e);if(null===o)return{url:e};var a=parseInt(o[1],10),i=parseInt(o[2],10),l=parseInt(o[3],10),c=fo(l,a),s=fo(l+1,a),u=po(i,a),d=po(i+1,a);return c>t[1][0]||s<t[0][0]||d>t[1][1]||u<t[0][1]?{url:n}:{url:e}}}!function(){function t(t){this.searchExtent=t.join(","),this.fetch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fetch.apply(void 0,t)}}t.prototype.suggest=function(t){return lo(this,void 0,void 0,(function(){return co(this,(function(e){switch(e.label){case 0:return[4,(0,io.request)("https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/suggest",{authentication:new io.ApiKey({key:so}),params:{text:t,searchExtent:this.searchExtent,category:"Populated Place"},fetch:this.fetch})];case 1:return[2,e.sent().suggestions.map((function(t){return{text:t.text,magicKey:t.magicKey}}))]}}))}))},t.prototype.geocode=function(t,e){return lo(this,void 0,void 0,(function(){return co(this,(function(n){switch(n.label){case 0:return[4,(0,io.request)("https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates",{authentication:new io.ApiKey({key:so}),params:{SingleLine:t,magicKey:e.magicKey,searchExtent:this.searchExtent},fetch:this.fetch})];case 1:return[2,{candidates:n.sent().candidates.map((function(t){return{address:t.address,location:t.location,extent:t.extent}}))}]}}))}))}}();var vo=function(){return vo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},vo.apply(this,arguments)};function mo(){return o(e.Fragment,{children:"Show nearby gauges as clusters rather than individually. The number of gauges in the cluster is shown in the centre of the icon. Click the icon to zoom-into the cluster."},void 0)}const go=function(t){var e=t.model,n=(0,a.useCallback)((function(){e.toggleClusterGauges()}),[e]),r=e.state.clusterGauges;return o("div",vo({className:"d-flex flex-row mb-3 align-items-center"},{children:[o("input",{className:"form-check-input",type:"checkbox",checked:r,id:"cluster-gauges",onChange:n},void 0),o("label",vo({className:"form-check-label ms-2",for:"cluster-gauges"},{children:"Cluster gauges"}),void 0),o(Ae,vo({className:"ms-1"},{children:o(mo,{},void 0)}),void 0)]}),void 0)};var yo=function(){return yo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},yo.apply(this,arguments)};const bo=function(t){var e=t.map,n=(0,a.useState)(0),r=n[0],i=n[1];return(0,a.useEffect)((function(){e.on("zoom",(function(){i(Math.round(e.getZoom()))})),i(Math.round(e.getZoom()))}),[i,e]),o("div",yo({className:"rr-map__zoom-level",title:"Zoom level"},{children:r}),void 0)},_o=preactCompat;var wo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Oo=function(t){function e(){var e=t.call(this)||this;return e.assignInitialState({popups:[]}),e}return wo(e,t),e.prototype.addPopup=function(t,e,n,r){var o=this.state.popups;o.push({$container:t,instance:e,coordinates:n,features:r}),this.update({popups:o})},e.prototype.removePopup=function(t){var e=this.state.popups;this.update({popups:e.filter((function(e){return e.instance!==t}))})},e}(Qt);var xo=function(){return xo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},xo.apply(this,arguments)},No=/^[A-Z-]+-(\d+)$/;function Co(t){var e=t.features;return o("div",xo({className:"overflow-auto"},{children:o("ul",xo({className:"rr-single-gauge-list"},{children:e.map((function(t){var e=t.id,n=t.properties;return o("li",xo({className:"rr-single-gauge-list__item"},{children:o(bt,xo({to:n.url,target:"_blank",rel:"noreferrer"},{children:[o(Ee,{className:"me-1",width:"16",height:"16"},void 0),n.name]}),void 0)}),e)}))}),void 0)}),void 0)}const So=function(t){var e=t.map,r=t.filter,i=(0,a.useMemo)((function(){return new Oo}),[]);le(i);var l=(0,a.useCallback)((function(t,n){var r=document.createElement("div"),o=new(ao().Popup)({maxWidth:"none",closeButton:!1}).setLngLat(t).setDOMContent(r);o.on("open",(function(){i.addPopup(r,o,t,n)})),o.on("close",(function(){(0,_o.unmountComponentAtNode)(r),i.removePopup(o)})),o.addTo(e)}),[e,i]);(0,a.useEffect)((function(){!function(t,e){t.addLayer({id:"gauges-single",type:"circle",source:"gauges",paint:{"circle-color":"#f00","circle-radius":["case",["boolean",["feature-state","hover"],!1],6,4]}}),t.on("click","gauges-single",(function(t){if(t.features){var n=t.features;Tt(n,(function(t){var e,n;return e=t.properties.name,(n=No.exec(e))?"".concat(n[1]," ").concat(e):"1 ".concat(e)}));var r=n[0].geometry.coordinates.slice();e(r,n)}}));var n=null;t.on("mouseenter","gauges-single",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mousemove","gauges-single",(function(e){if(e.features&&0!==e.features.length){var r=e.features[0];null!==n&&t.setFeatureState({source:"gauges",id:n},{hover:!1}),n=r.id,t.setFeatureState({source:"gauges",id:n},{hover:!0})}})),t.on("mouseleave","gauges-single",(function(){t.getCanvas().style.cursor="",null!==n&&t.setFeatureState({source:"gauges",id:n},{hover:!1}),n=null}))}(e,l)}),[e,l]),(0,a.useEffect)((function(){i.state.popups.slice().forEach((function(t){t.instance.remove()}));var t=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}(["all",["!",["has","point_count"]]],r,!0);e.setFilter("gauges-single",t)}),[e,r,i]);var c=i.state.popups;return o(n().Fragment,{children:c.map((function(t){var e=t.$container,n=t.features;return(0,_o.createPortal)(o(Co,{features:n},void 0),e)}))},void 0)};const jo=function(t){var e=t.map,n=t.clusterGauges,r=t.filter;return(0,a.useEffect)((function(){!function(t){for(var e=function(e,n){var r=function(t){return'<svg width="32" height="32" viewBox="0 0 32 32" fill="'.concat(t,'" xmlns="http://www.w3.org/2000/svg">\n            <circle cx="16" cy="16" r="16" fill="#fff" />\n            <path d="M15.327 2.234c-3.285-.119-6.357 2.365-7.78 6.528-3.079 1.102-5.084 3.033-5.467 5.318-.416 2.484.825 4.87 2.8 6.346a1.683 1.683 0 0 0 2.353-.34 1.683 1.683 0 0 0-.34-2.352c-1.115-.834-1.661-2.08-1.49-3.099.17-1.018.97-2.208 3.752-2.999a1.684 1.684 0 0 0 1.168-1.217c.925-3.728 2.995-4.89 4.888-4.822 1.893.068 3.926 1.494 4.598 4.672a1.684 1.684 0 0 0 1.623 1.334c2.1.026 3.377.545 4.118 1.152.74.607 1.034 1.32 1.077 2.12.086 1.6-1.083 3.342-2.75 3.58a1.683 1.683 0 0 0-1.426 1.905 1.683 1.683 0 0 0 1.898 1.433c3.565-.507 5.819-3.812 5.641-7.1a6.316 6.316 0 0 0-2.311-4.54c-1.214-.994-3.103-1.38-5.136-1.59-1.232-3.697-4.002-6.214-7.216-6.33Z"/>\n            <path d="M10.041 21.346a1.683 1.683 0 0 0-2.037 1.226l-.464 1.88a1.683 1.683 0 0 0 1.226 2.038 1.683 1.683 0 0 0 2.038-1.226l.464-1.88a1.683 1.683 0 0 0-1.227-2.038ZM13.902 24.577a1.683 1.683 0 0 0-2.038 1.226l-.472 1.88a1.683 1.683 0 0 0 1.234 2.038 1.683 1.683 0 0 0 2.038-1.226l.464-1.88a1.683 1.683 0 0 0-1.226-2.038zM19.519 21.362a1.683 1.683 0 0 0-2.046 1.235l-.464 1.88a1.683 1.683 0 0 0 1.226 2.038 1.683 1.683 0 0 0 2.046-1.234l.464-1.873a1.683 1.683 0 0 0-1.226-2.046z"/>\n        </svg>')}(n),o=e[0],a=e[1],i=new Image(o,a);i.onload=function(){t.addImage("rain-gauge-icon-".concat(o,"-").concat(a),i)},i.src="data:image/svg+xml;base64,".concat(btoa(r))},n=0,r=[{size:[32,32],fillColor:"#51bbd6"},{size:[48,48],fillColor:"#62b856"},{size:[64,64],fillColor:"#f28cb1"},{size:[72,72],fillColor:"#f2c44e"}];n<r.length;n++){var o=r[n];e(o.size,o.fillColor)}}(e),function(t){t.addLayer({id:"gauges-clusters",type:"symbol",source:"gauges",filter:["has","point_count"],layout:{"icon-ignore-placement":!0,"icon-image":["step",["get","point_count"],"rain-gauge-icon-32-32",10,"rain-gauge-icon-48-48",100,"rain-gauge-icon-64-64",1e3,"rain-gauge-icon-72-72"],"text-field":"{point_count}","text-font":["Arial Regular"],"text-size":12,"text-anchor":"center","text-offset":[-.1,0]},paint:{"text-color":"#000"}}),t.on("click","gauges-clusters",(function(e){var n=e.features;if(n&&0!==n.length){var r=n[0],o=r.properties.cluster_id;t.getSource("gauges").getClusterExpansionZoom(o,(function(e,n){e||t.easeTo({center:r.geometry.coordinates,zoom:n})}))}})),t.on("mouseenter","gauges-clusters",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","gauges-clusters",(function(){t.getCanvas().style.cursor=""}))}(e)}),[e]),(0,a.useEffect)((function(){var t=e.getStyle();t.sources&&"gauges"in t.sources&&(t.sources.gauges.cluster=n,e.setStyle(t))}),[e,n]),(0,a.useEffect)((function(){var t=e.getStyle();n&&t.sources&&"gauges"in t.sources&&(t.sources.gauges.filter=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}(["all"],r,!0),e.setStyle(t))}),[n,r,e]),null};var Po=function(){return Po=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Po.apply(this,arguments)};const ko=function(t){var n=t.model,r=Bt(),i=r[0],l=r[1],c=(0,a.useState)(!1),s=c[0],u=c[1],d=(0,a.useRef)(null);le(n),(0,a.useEffect)((function(){if(null!==i){var t=n.state,e=t.bounds,r=t.data,o=function(t,e){var n=new(ao().Map)({container:t,style:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/".concat("ArcGIS:Streets","?type=style&token=").concat(so),bounds:e,transformRequest:ho(e),customAttribution:"Powered by Esri"});return n.addControl(new(ao().NavigationControl)({showCompass:!1})),n.scrollZoom.setWheelZoomRate(.01),n}(i,e);o.once("load",(function(){o.addSource("gauges",r),u(!0)})),d.current=o;var a=new ResizeObserver((function(){o.resize()}));return a.observe(i),function(){var t=o.getBounds().toArray();n.setBounds(t),a.disconnect(),o.remove()}}}),[i,d,n,u]);var f=d.current,p=n.state.filter,h=n.children.mapControls,v=h.state.clusterGauges;return o("div",Po({className:"rr-gauges-map"},{children:[o("div",Po({className:"position-relative bg-light"},{children:[o("div",{className:"rr-map__container",style:{height:"80vh"},ref:l},void 0),null!==f&&s&&o(e.Fragment,{children:[o(So,{map:f,filter:p},void 0),o(jo,{map:f,filter:p,clusterGauges:v},void 0),o(bo,{map:f},void 0)]},void 0)]}),void 0),o(go,{model:h},void 0)]}),void 0)};var Eo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const Mo=function(t){function e(e){var n=t.call(this)||this,r={clusterGauges:e};return n.assignInitialState(r),n}return Eo(e,t),e.prototype.toggleClusterGauges=function(){var t=this.state.clusterGauges;this.update({clusterGauges:!t})},e}(Qt);var Ao=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Fo(t,e){for(var n=[],r=t.version,o=t.locations,a=t.gauges,i=t.counties,l=0,c=a;l<c.length;l++){var s=c[l],u=s.nameSuffix,d=s.locationIndex,f=s.lat,p=s.lon,h=s.startYear,v=s.endYear,m=s.elevation,g=s.countiesIndexes,y=o[d].name,b="".concat(y).concat(u);n.push({type:"Feature",properties:{name:b,location:y,url:"/".concat(r,"/locations/").concat(y,"/").concat(b),startYear:h,endYear:v,duration:v-h+1,elevation:m,counties:g.map((function(t){return i[t].name}))},geometry:{type:"Point",coordinates:[p,f]}})}return{type:"geojson",data:{type:"FeatureCollection",features:n},cluster:e,clusterRadius:50,clusterMaxZoom:18,promoteId:"name"}}const To=function(t){function e(e){var n=t.call(this)||this;return n.assignInitialState({bounds:[[-11,49],[2,61]],data:{type:"geojson",data:{type:"FeatureCollection",features:[]}},filter:[]}),n.addChild("mapControls",new Mo(e)),n}return Ao(e,t),e.prototype.setBounds=function(t){this.update({bounds:t})},e.prototype.setData=function(t){var e=this.children.mapControls.state.clusterGauges;this.update({data:Fo(t,e)})},e.prototype.setFilter=function(t){var e=function(t){var e,n=t.filterName,r=t.filterCounty,o=t.filterYear,a=t.filterDuration,i=t.filterElevation,l=[];if(n.active&&l.push((e=n.name).startsWith("*")?e.endsWith("*")?["in",e.slice(1,-1),["get","name"]]:["let","start",["-",["length",["get","name"]],e.length-1],["all",["<=",0,["var","start"]],["<=",0,["index-of",e.slice(1),["get","name"],["var","start"]]]]]:e.endsWith("*")?["==",["index-of",e.slice(0,-1),["get","name"]],0]:["==",["index-of",e,["get","name"]],0]),r.active){var c=r.countiesFilters,s=[];for(var u in c)c[u]&&s.push(u);l.push(["let","counties",["get","counties"],["case",["==",["length",["var","counties"]],1],["in",["at",0,["var","counties"]],["literal",s]],["==",["length",["var","counties"]],2],["any",["in",["at",0,["var","counties"]],["literal",s]],["in",["at",1,["var","counties"]],["literal",s]]],!1]])}return o.active&&l.push(["!",["any",["<",["get","endYear"],o.startValue],[">",["get","startYear"],o.endValue]]]),a.active&&l.push(["!",["any",["<",["get","duration"],a.startValue],[">",["get","duration"],a.endValue]]]),i.active&&(l.push(["!=",["get","elevation"],null]),l.push(["!",["any",["<",["get","elevation"],i.startValue],[">",["get","elevation"],i.endValue]]])),l}(t);this.update({filter:e})},e}(Qt);var Io=function(){return Io=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Io.apply(this,arguments)};const Lo=function(t){var e=t.model;le(e);var n=e.children.table,r=n.state,i=r.columns,l=r.currentPage,c=r.pageCount,s=r.maxItemCount,u=r.fieldSorts,d=n.getFilteredData(),f=(0,a.useCallback)((function(t){n.navigate(t)}),[n]),p=(0,a.useCallback)((function(t){n.toggleSort(t)}),[n]);return o("div",{children:[o("div",Io({className:"rr-gauges-table__wrapper"},{children:o(yn,{className:"table-striped table-bordered rr-gauges-table",columns:i,data:d,fieldSorts:u,handleSort:p},void 0)}),void 0),o(ln,{pageCount:c,currentPage:l,maxItemCount:s,handleNavigate:f},void 0)]},void 0)};var Ro=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Do=[{field:"name",title:"Gauge",format:"link",frozen:!0,formatParams:{urlField:"url"},sortable:!0,className:"rr-gauges-table__name"},{field:"county",title:"County",format:"custom",formatParams:{formatter:function(t){return t.join(", ")}},sortable:!0,sortKey:function(t){return t.join(" ")},className:"rr-gauges-table__counties"},{field:"startYear",title:"Start year",format:"text",sortable:!0,className:"rr-gauges-table__start-year"},{field:"endYear",title:"End year",format:"text",sortable:!0,className:"rr-gauges-table__end-year"},{field:"elevation",title:"Elevation (ft)",format:"custom",sortable:!0,sortKey:function(t){return null===t?-1:t},formatParams:{formatter:function(t){return null===t?"":"".concat(t)}},className:"rr-gauges-table__elevation"}];function Vo(t){var e=new Set;for(var n in t)t[n]&&e.add(n);return e}var Ho=function(t){function e(){var e=t.call(this)||this;return e.addChild("table",new kn(Do,10,3)),e}return Ro(e,t),e.prototype.setData=function(t){this.children.table.setData(function(t){var e=t.version,n=t.locations,r=t.gauges,o=t.counties,a=r.map((function(t){var r=t.locationIndex,a=t.nameSuffix,i=t.elevation,l=t.startYear,c=t.endYear,s=t.countiesIndexes,u=n[r].name,d="".concat(u).concat(a),f=s.map((function(t){return o[t].name}));return{name:d,url:"/".concat(e,"/locations/").concat(u,"/").concat(d),elevation:i,startYear:l,endYear:c,duration:c-l+1,county:f}}));return a}(t))},e.prototype.setFilter=function(t){var e=function(t){var e=t.filterName,n=t.filterCounty,r=t.filterDuration,o=t.filterElevation,a=t.filterYear;return{name:e.active?Nn(e.name):null,county:n.active?{anyIn:Vo(n.countiesFilters)}:null,url:null,elevation:o.active?{greaterThanEqual:o.startValue,lessThanEqual:o.endValue}:null,startYear:a.active?{lessThanEqual:a.endValue}:null,endYear:a.active?{greaterThanEqual:a.startValue}:null,duration:r.active?{greaterThanEqual:r.startValue,lessThanEqual:r.endValue}:null}}(t);this.children.table.setFilters(e)},e}(Qt);const Uo=Ho;var Wo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zo=function(t){function e(e){var n=t.call(this)||this,r={version:e};return n.assignInitialState(r),n.addChild("filter",new ro),n.addChild("table",new Uo),n.addChild("map",new To(!1)),n.addChild("tabsPanel",new ae("table")),n}return Wo(e,t),e.prototype.onChanges=function(t){if((0,Yt.has)(t,"filter")){var e=this.children,n=e.filter,r=e.table,o=e.map,a=n.state;this.batch((function(){r.setFilter(a),o.setFilter(a)}))}},e.prototype.setData=function(t){var e=this;this.batch((function(){var n=e.children,r=n.filter,o=n.table,a=n.map;r.setData(t),o.setData(t),a.setData(t)}))},e.prototype.getGaugeCount=function(){return this.children.table.children.table.getRowCount()},e}(Qt);const Bo=zo;var Go=function(){return Go=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Go.apply(this,arguments)};function $o(t){var e=t.model;le(e);var n=e.getGaugeCount();return o("div",Go({className:"rr-gauges-layout__gauge-count mb-3"},{children:1===n?"Showing 1 gauge":"Showing ".concat(n," gauges")}),void 0)}function Yo(t){var e=t.model,n=e.children,r=n.filter,a=n.table;return o("div",{children:o("div",Go({className:"rr-gauges-layout"},{children:[o("div",Go({className:"rr-gauges-layout__filter me-3"},{children:o(zr,{model:r},void 0)}),void 0),o("div",Go({className:"rr-gauges-layout__table"},{children:[o($o,{model:e},void 0),o(Lo,{model:a},void 0)]}),void 0)]}),void 0)},void 0)}function Ko(t){var e=t.model,n=e.children,r=n.filter,a=n.map;return o("div",{children:o("div",Go({className:"rr-gauges-layout"},{children:[o("div",Go({className:"rr-gauges-layout__filter me-3"},{children:o(zr,{model:r},void 0)}),void 0),o("div",Go({className:"rr-gauges-layout__map"},{children:[o($o,{model:e},void 0),o(ko,{model:a},void 0)]}),void 0)]}),void 0)},void 0)}const Zo=function(t){var e=t.model;return o(me,{model:e.children.tabsPanel,persist:!0,tabs:[{mode:"table",title:"Table"},{mode:"map",title:"Map"}],renderChildren:{table:function(){return o(Yo,{model:e},void 0)},map:function(){return o(Ko,{model:e},void 0)}}},void 0)};var qo=function(){return qo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},qo.apply(this,arguments)};const Jo=function(t){var n=t.model,r=$t(),a=n.children.versions.getChild(r).children,i=a.fetcher,l=a.gauges;return ce(Mt(r,"metadata.json"),i),o(e.Fragment,{children:[o("h1",qo({className:"mb-5"},{children:"Gauges"}),void 0),o(De,qo({model:i},{children:function(){return o(Zo,{model:l},void 0)}}),void 0)]},void 0)};var Xo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qo=function(t){function e(e){var n=t.call(this)||this;return n.addChild("fetcher",new re),n.addChild("locations",new Un(e)),n.addChild("gauges",new Bo(e)),n}return Xo(e,t),e.prototype.onChanges=function(t){if((0,Yt.has)(t,"fetcher.data")){var e=this.children,n=e.fetcher,r=e.locations,o=e.gauges,a=n.state.data;null!==a&&(r.setData(a),o.setData(a))}},e}(Qt);const ta=Qo;var ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),na=function(t){function e(e){var n=t.call(this)||this;n.addChild("versions",new te);var r=n.children.versions;return e.forEach((function(t,e){r.addChild("".concat(e),new ta(t),t)})),n}return ea(e,t),e}(Qt),ra=function(){return ra=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ra.apply(this,arguments)},oa=new na(xt.versions);function aa(){var t=q(),e=$t();return o("div",{children:[o("header",{children:o(Ht,{currentVersion:e,versions:xt.versions},void 0)},void 0),o("main",ra({className:"mt-3 pb-5"},{children:o("div",ra({className:"container"},{children:[o(Ot,{pathname:t.pathname},void 0),o(G,{},void 0)]}),void 0)}),void 0)]},void 0)}function ia(t){return xt.versions.indexOf(t.version)>-1}function la(t){return e=t.location,/^[A-Z-]+$/.test(e);var e}function ca(t){return e=t.gauge,/^[A-Z0-9-]+\d*$/.test(e);var e}var sa=document.getElementById("app");null!==sa&&(0,e.render)(o((function(){return o(yt,{children:o(K,{children:[o($,ra({path:"/",element:o(aa,{},void 0)},{children:[o($,{index:!0,element:o(He,{},void 0)},void 0),o($,ra({path:":version",element:o(Te,{validator:ia},void 0)},{children:[o($,{index:!0,element:o(He,{},void 0)},void 0),o($,ra({path:"locations"},{children:[o($,{index:!0,element:o(In,{model:oa},void 0)},void 0),o($,ra({path:":location",element:o(Te,{validator:la},void 0)},{children:[o($,{index:!0,element:o(rn,{},void 0)},void 0),o($,ra({path:":gauge",element:o(Te,{validator:ca},void 0)},{children:o($,{index:!0,element:o(wr,{},void 0)},void 0)}),void 0)]}),void 0)]}),void 0),o($,ra({path:"gauges"},{children:o($,{index:!0,element:o(Jo,{model:oa},void 0)},void 0)}),void 0)]}),void 0),o($,{path:"not-found",element:o(zt,{},void 0)},void 0)]}),void 0),o($,{path:"*",element:o(B,{to:"not-found",replace:!0},void 0)},void 0)]},void 0)},void 0)}),{},void 0),sa)})();