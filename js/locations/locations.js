(()=>{"use strict";var e={n:n=>{var r=n&&n.__esModule?()=>n.default:()=>n;return e.d(r,{a:r}),r},d:(n,r)=>{for(var t in r)e.o(r,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=preact;var r=e.n(n),t=function(e,n,r){if(r||2===arguments.length)for(var t,a=0,i=n.length;a<i;a++)!t&&a in n||(t||(t=Array.prototype.slice.call(n,0,a)),t[a]=n[a]);return e.concat(t||Array.prototype.slice.call(n))};function a(e,n){return e.endsWith(n)?e.substr(0,e.length-n.length):e}function i(e,n){return e.startsWith(n)?e.substr(n.length):e}function o(e,n){var r=e.startsWith(n)?n.length:0,t=e.endsWith(n)?e.length-n.length:e.length;return t-r===e.length?e:e.substring(r,t)}function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)return"";if(1===e.length)return e[0];for(var r=a(e[0],"/"),t=1;t<e.length-1;t++)r+="/"+o(e[t],"/");return r+"/"+i(e[e.length-1],"/")}var c="/rainfall-rescue-site";function s(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("path must end with a filename");var r=e[e.length-1];if(-1===r.indexOf("."))throw new Error("path must end with a filename");return"index.html"===r?e[e.length-1]="":r.endsWith(".html")&&(e[e.length-1]=a(r,".html")),l.apply(void 0,t([c],e,!1))}function u(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var t=[];n.push(!1);for(var a=0;a<e.length;a++){var i=e[a].trim();i&&t.push(i);var o=n[a];!1!==o&&t.push(o.trim())}return t.join(" ")}function d(e){history.replaceState(null,"","#?".concat(e.toString()))}var f=0;function v(e,r,t,a,i){var o,l,c={};for(l in r)"ref"==l?o=r[l]:c[l]=r[l];var s={type:e,props:c,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--f,__source:a,__self:i};if("function"==typeof e&&(o=e.defaultProps))for(l in o)void 0===c[l]&&(c[l]=o[l]);return n.options.vnode&&n.options.vnode(s),s}var h=function(){return h=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},h.apply(this,arguments)};function p(e){var n,r,t=e.className,a=e.href,i=e.children;return a===window.location.pathname?v("a",h({className:u(b||(n=[""," active"],r=[""," active"],Object.defineProperty?Object.defineProperty(n,"raw",{value:r}):n.raw=r,b=n),t||!1),"aria-current":"page",href:a},{children:i}),void 0):v("a",h({className:t,href:a},{children:i}),void 0)}function m(e){var n=e.currentVersion,r=e.versions;return v("form",h({class:"d-flex"},{children:v("div",h({class:"dropdown"},{children:[v("button",h({id:"version-dropdown",className:"btn btn-outline-secondary dropdown-toggle",type:"button","aria-expanded":"false","data-bs-toggle":"dropdown"},{children:n}),void 0),v("ul",h({class:"dropdown-menu dropdown-menu-md-end","aria-labelledby":"version-dropdown"},{children:r.map((function(e){return v("li",e===n?{children:v("a",h({className:"dropdown-item disabled",href:""},{children:n}),void 0)}:{children:v("a",h({className:"dropdown-item",href:s(e,"locations","index.html")},{children:e}),void 0)},void 0)}))}),void 0)]}),void 0)}),void 0)}const g=function(e){var n=e.version,r=e.versions,t=r[r.length-1];return v("nav",h({className:"navbar navbar-expand-md navbar-light bg-light"},{children:v("div",h({className:"container-fluid"},{children:[v("a",h({className:"navbar-brand",href:s("index.html")},{children:[v("img",{src:s("static","icons","rainfall-rescue-icon.svg"),alt:"",width:"30",height:"24",class:"d-inline-block align-text-top"},void 0),"Rainfall Rescue"]}),void 0),v("button",h({className:"navbar-toggler",type:"button","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation","data-bs-toggle":"collapse","data-bs-target":"#navbar-collapse"},{children:v("span",{className:"navbar-toggler-icon"},void 0)}),void 0),v("div",h({id:"navbar-collapse",className:"navbar-collapse collapse"},{children:[v("ul",h({className:"navbar-nav me-auto mb-2 mb-md-0"},{children:v("li",h({className:"nav-item"},{children:v(p,h({className:"nav-link",href:s(n||t,"locations","index.html")},{children:"Locations"}),void 0)}),void 0)}),void 0),n&&v(m,{currentVersion:n,versions:r},void 0)]}),void 0)]}),void 0)}),void 0)};var b,y=function(){return y=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},y.apply(this,arguments)};const w=function(e){var n=e.items;return v("nav",y({"aria-label":"breadcrumb"},{children:v("ol",y({className:"breadcrumb"},{children:n.map((function(e,r){var t=e[0],a=e[1];return r==n.length-1?v("li",y({className:"breadcrumb-item active","aria-current":"page"},{children:t}),r):v("li",y({className:"breadcrumb-item"},{children:v("a",y({href:a},{children:t}),void 0)}),r)}))}),void 0)}),void 0)};var N=function(){return N=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},N.apply(this,arguments)};const O=function(e){var n=e.pageData,t=e.breadcrumbs,a=e.children,i=n.version,o=n.versions;return v(r().Fragment,{children:[v("header",{children:v(g,{versions:o,version:i},void 0)},void 0),v("main",N({class:"flex-shrink-0 mt-3 pb-5"},{children:v("div",N({className:"container"},{children:[v(w,{items:t},void 0),a]}),void 0)}),void 0)]},void 0)},P=preactHooks;var j=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},k=function(){return k=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},k.apply(this,arguments)};function x(e,n,r,t){switch(void 0===r&&(r="text"),void 0===t&&(t={}),r){case"text":return e;case"float":return;case"link":return function(e,n,r){var t=n[r.urlField];return v("a",k({href:t},{children:e}),void 0)}(e,n,t);default:throw new Error("Unknown format")}}function _(e){var n=e.frozen,r=void 0!==n&&n;return u(C||(C=j(["",""],["",""])),r&&"rr-frozen")}const E=function(e){var n=e.columns,r=e.data,t=e.className,a=void 0===t?"":t;return v("table",k({className:u(I||(I=j(["table ",""],["table ",""])),a)},{children:[v("thead",{children:v("tr",{children:n.map((function(e){return v("th",k({scope:"col",className:_(e)},{children:e.title}),e.field)}))},void 0)},void 0),v("tbody",{children:r.map((function(e,r){return v("tr",{children:n.map((function(n){return v("td",k({className:_(n)},{children:x(e[n.field],e,n.format,n.formatParams)}),n.field)}))},r)}))},void 0)]}),void 0)};var C,I,L=function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},R=function(){return R=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},R.apply(this,arguments)};const S=function(e){var n=e.pageCount,r=e.currentPage,t=e.maxItemCount,a=e.handleNavigate,i=function(e,n,r){var t,a,i=Math.min(e,r),o=Math.floor(i/2),l=i-o-1;n<=o?(t=1,a=i):n+l>=e?(a=e,t=e-i+1):(t=n-o,a=n+l);for(var c=[],s=[],u=t;u<n;u++)c.push(u);for(u=n+1;u<=a;u++)s.push(u);return[c,s]}(n,r,t),o=i[0],l=i[1];return v("nav",R({"aria-label":"pagination"},{children:v("ul",R({className:"pagination pagination-sm flex-wrap justify-content-end",onClick:function(e){var n=e.target;if(n instanceof HTMLElement&&n.dataset.page){e.preventDefault();var r=parseInt(n.dataset.page);a(r),n.blur()}}},{children:[v("li",R({className:u(F||(F=L(["page-item d-none d-sm-block ",""],["page-item d-none d-sm-block ",""])),1===r&&"disabled")},{children:v("a",R({className:"page-link",href:"#","data-page":"1"},{children:"First"}),void 0)}),void 0),v("li",R({className:u(W||(W=L(["page-item ",""],["page-item ",""])),1===r&&"disabled")},{children:v("a",R({className:"page-link",href:"#","data-page":r-1},{children:"Previous"}),void 0)}),void 0),o.map((function(e){return v("li",R({className:"page-item d-none d-md-block"},{children:v("a",R({className:"page-link",href:"#","data-page":e},{children:e}),void 0)}),e)})),v("li",R({className:"page-item active"},{children:v("span",R({className:"page-link"},{children:r}),void 0)}),void 0),l.map((function(e){return v("li",R({className:"page-item d-none d-md-block"},{children:v("a",R({className:"page-link",href:"#","data-page":e},{children:e}),void 0)}),e)})),v("li",R({className:u(D||(D=L(["page-item ",""],["page-item ",""])),r===n&&"disabled")},{children:v("a",R({className:"page-link",href:"#","data-page":r+1},{children:"Next"}),void 0)}),void 0),v("li",R({className:u(T||(T=L(["page-item d-none d-sm-block ",""],["page-item d-none d-sm-block ",""])),r===n&&"disabled")},{children:v("a",R({className:"page-link",href:"#","data-page":n},{children:"Last"}),void 0)}),void 0)]}),void 0)}),void 0)};var F,W,D,T,M=function(){return M=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},M.apply(this,arguments)},A={navigate:function(e){return{type:"NAVIGATE",payload:{page:e}}},setFilter:function(e,n,r){return{type:"SET_FILTER",payload:{field:e,method:n,test:r}}},clearFilter:function(e,n){return{type:"CLEAR_FILTER",payload:{field:e,method:n}}}},z={equals:function(e,n){return e===n},startsWith:function(e,n){return e.startsWith(n)},endsWith:function(e,n){return e.endsWith(n)}};function U(e,n){var r=function(e){var n=[];return Object.keys(e).forEach((function(r){var t=e[r];null!==t&&Object.keys(t).forEach((function(e){if(null!==t[e]){var a=t[e],i=z[e];n.push((function(e){return i(e[r],a)}))}}))})),0===n.length?null:function(e){return n.every((function(n){return n(e)}))}}(e);return null===r?null:n.reduce((function(e,n,t){return r(n)&&e.push(t),e}),[])}function H(e,n,r){var t=null===n?e.length:n.length;return Math.max(Math.ceil(t/r),1)}function V(e,n,r,t){var a,i,o=e.filters,l=e.data,c=e.pageSize,s=n in o?o[n]:{},u=M(M({},o),((a={})[n]=M(M({},s),((i={})[r]=t,i)),a)),d=U(u,l),f=H(l,d,c);return M(M({},e),{filters:u,filteredRows:d,pageCount:f,currentPage:1})}function B(e){var n=e.get("page");if(null!==n){var r=parseInt(n);return isNaN(r)?1:r}return 1}function G(e,n,r,t){void 0===t&&(t={});var a={};return e.forEach((function(e,i){var o,l=i.split("_");if(2===l.length){var c=l[0],s=l[1];if(c in n&&s in r){c in a||(a[c]={});var u=null===(o=t[c])||void 0===o?void 0:o[s];a[c][s]=void 0===u?e:u(e)}}})),a}var q=function(){return q=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},q.apply(this,arguments)};function J(e){return e.toUpperCase().replace(/[ ]/g,"-")}const K=function(e){var n=e.value,r=e.dispatch,t=(0,P.useCallback)((function(e){if(e.target instanceof HTMLInputElement){var n=J(e.target.value);r(""===n?A.clearFilter("location","startsWith"):A.setFilter("location","startsWith",n))}}),[J,r,A]);return v("form",q({className:"row mb-3 align-items-center"},{children:[v("div",q({className:"col-auto"},{children:v("label",q({htmlFor:"search-input"},{children:"Search"}),void 0)}),void 0),v("div",q({className:"col-auto"},{children:v("input",{type:"text",className:"form-control",id:"search-input",placeholder:"Location",onInput:t,value:n,autoComplete:"off",spellcheck:!1},void 0)}),void 0)]}),void 0)};var Q=function(){return Q=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},Q.apply(this,arguments)};function X(e){var n=e.pageData,r=e.currentPage,t=e.filters,a=n.version;return function(e){var n=e.data,r=e.pageSize,t=e.maxItemCount,a=e.currentPage,i=void 0===a?1:a,o=e.filters,l=void 0===o?{}:o,c=U(l,n),s=H(n,c,r);return{data:n,pageSize:r,pageCount:s,filters:l,currentPage:Math.min(Math.max(1,i),s),maxItemCount:t,filteredRows:c}}({data:n.locations.map((function(e){return{location:e,url:s(a,"locations",e,"index.html")}})),currentPage:r,filters:t,pageSize:10,maxItemCount:3})}function Y(e,n){return function(e,n){switch(n.type){case"NAVIGATE":return function(e,n){var r=n.payload.page,t=e.pageCount;return r>=1&&r<=t?M(M({},e),{currentPage:r}):e}(e,n);case"SET_FILTER":return function(e,n){var r=n.payload;return V(e,r.field,r.method,r.test)}(e,n);case"CLEAR_FILTER":return function(e,n){var r=n.payload;return V(e,r.field,r.method,null)}(e,n);default:return e}}(e,n)}const Z=function(e){var n,r,t,a=e.pageData,i=new URLSearchParams(window.location.hash.substring(1)),o=window.URLSearchParams?Q(Q({},{currentPage:B(t=i),filters:G(t,{location:!0},{startsWith:!0})}),{pageData:a}):{currentPage:1,filters:{},pageData:a},l=(0,P.useReducer)(Y,o,X),c=l[0],s=l[1],u=c.currentPage,f=c.filters;(0,P.useEffect)((function(){window.URLSearchParams&&d(function(e){var n=e.currentPage,r=e.filters;return new URLSearchParams(Q(Q({},function(e){return{page:e}}(n)),function(e){var n={};return Object.keys(e).forEach((function(r){var t=e[r];null!==t&&Object.keys(t).forEach((function(e){null!==t[e]&&(n["".concat(r,"_").concat(e)]=t[e])}))})),n}(r)))}({currentPage:u,filters:f}))}),[u,f,d]);var h=c.pageSize,p=c.filteredRows,m=function(e,n,r,t){return null===n?e.slice(t*(r-1),t*r):n.slice(t*(r-1),t*r).map((function(n){return e[n]}))}(c.data,p,u,h),g=null!==(r=null===(n=null==f?void 0:f.location)||void 0===n?void 0:n.startsWith)&&void 0!==r?r:"",b=(0,P.useCallback)((function(e){s(A.navigate(e))}),[s,A]);return v("div",{children:[v(K,{value:g,dispatch:s},void 0),v(E,{className:"table-striped table-bordered",columns:[{field:"location",title:"Location",format:"link",formatParams:{urlField:"url"}}],data:m},void 0),v(S,{pageCount:c.pageCount,currentPage:c.currentPage,maxItemCount:c.maxItemCount,handleNavigate:b},void 0)]},void 0)};var $=function(){return $=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},$.apply(this,arguments)};const ee=function(e){var n=e.pageData;return v(r().Fragment,{children:[v("h1",$({className:"mb-5"},{children:"Locations"}),void 0),v(Z,{pageData:n},void 0)]},void 0)};var ne=function(){return ne=Object.assign||function(e){for(var n,r=1,t=arguments.length;r<t;r++)for(var a in n=arguments[r])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},ne.apply(this,arguments)};!function(e){var r=function(){var e=document.getElementById("page-data");if(e&&null!==e.textContent)return JSON.parse(e.textContent);throw new Error("Cannot find page data")}(),t=document.getElementById("app");if(null===t)throw new Error("Cannot find app element");(0,n.render)((0,n.h)((function(e){var n=e.pageData,r=[["Home",s("index.html")],["Locations",""]];return v(O,ne({pageData:n,breadcrumbs:r},{children:v(ee,{pageData:n},void 0)}),void 0)}),{pageData:r}),t)}()})();