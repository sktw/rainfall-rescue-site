(()=>{"use strict";var e={n:r=>{var n=r&&r.__esModule?()=>r.default:()=>r;return e.d(n,{a:n}),n},d:(r,n)=>{for(var t in n)e.o(n,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:n[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r)};const r=preact;var n=e.n(r),t=function(e,r,n){if(n||2===arguments.length)for(var t,a=0,i=r.length;a<i;a++)!t&&a in r||(t||(t=Array.prototype.slice.call(r,0,a)),t[a]=r[a]);return e.concat(t||Array.prototype.slice.call(r))};function a(e,r){return e.endsWith(r)?e.substr(0,e.length-r.length):e}function i(e,r){return e.startsWith(r)?e.substr(r.length):e}function o(e,r){var n=e.startsWith(r)?r.length:0,t=e.endsWith(r)?e.length-r.length:e.length;return t-n===e.length?e:e.substring(n,t)}function l(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(0===e.length)return"";if(1===e.length)return e[0];for(var n=a(e[0],"/"),t=1;t<e.length-1;t++)n+="/"+o(e[t],"/");return n+"/"+i(e[e.length-1],"/")}var c="/rainfall-rescue-site";function s(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(0===e.length)throw new Error("path must end with a filename");var n=e[e.length-1];if(-1===n.indexOf("."))throw new Error("path must end with a filename");return"index.html"===n?e[e.length-1]="":n.endsWith(".html")&&(e[e.length-1]=a(n,".html")),l.apply(void 0,t([c],e,!1))}function d(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var t=[];r.push(!1);for(var a=0;a<e.length;a++){var i=e[a].trim();i&&t.push(i);var o=r[a];!1!==o&&t.push(o.trim())}return t.join(" ")}var v=0;function u(e,n,t,a,i){var o,l,c={};for(l in n)"ref"==l?o=n[l]:c[l]=n[l];var s={type:e,props:c,key:t,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--v,__source:a,__self:i};if("function"==typeof e&&(o=e.defaultProps))for(l in o)void 0===c[l]&&(c[l]=o[l]);return r.options.vnode&&r.options.vnode(s),s}var h=function(){return h=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},h.apply(this,arguments)};function f(e){var r,n,t=e.className,a=e.href,i=e.children;return a===window.location.pathname?u("a",h({className:d(g||(r=[""," active"],n=[""," active"],Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,g=r),t||!1),"aria-current":"page",href:a},{children:i}),void 0):u("a",h({className:t,href:a},{children:i}),void 0)}function m(e){var r=e.currentVersion,n=e.versions;return u("form",h({class:"d-flex"},{children:u("div",h({class:"dropdown"},{children:[u("button",h({id:"version-dropdown",className:"btn btn-outline-secondary dropdown-toggle",type:"button","aria-expanded":"false","data-bs-toggle":"dropdown"},{children:r}),void 0),u("ul",h({class:"dropdown-menu dropdown-menu-md-end","aria-labelledby":"version-dropdown"},{children:n.map((function(e){return u("li",e===r?{children:u("a",h({className:"dropdown-item disabled",href:""},{children:r}),void 0)}:{children:u("a",h({className:"dropdown-item",href:s(e,"locations","index.html")},{children:e}),void 0)},void 0)}))}),void 0)]}),void 0)}),void 0)}const p=function(e){var r=e.version,n=e.versions,t=n[n.length-1];return u("nav",h({className:"navbar navbar-expand-md navbar-light bg-light"},{children:u("div",h({className:"container-fluid"},{children:[u("a",h({className:"navbar-brand",href:s("index.html")},{children:[u("img",{src:s("static","icons","rainfall-rescue-icon.svg"),alt:"",width:"30",height:"24",class:"d-inline-block align-text-top"},void 0),"Rainfall Rescue"]}),void 0),u("button",h({className:"navbar-toggler",type:"button","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation","data-bs-toggle":"collapse","data-bs-target":"#navbar-collapse"},{children:u("span",{className:"navbar-toggler-icon"},void 0)}),void 0),u("div",h({id:"navbar-collapse",className:"navbar-collapse collapse"},{children:[u("ul",h({className:"navbar-nav me-auto mb-2 mb-md-0"},{children:u("li",h({className:"nav-item"},{children:u(f,h({className:"nav-link",href:s(r||t,"locations","index.html")},{children:"Locations"}),void 0)}),void 0)}),void 0),r&&u(m,{currentVersion:r,versions:n},void 0)]}),void 0)]}),void 0)}),void 0)};var g,b=function(){return b=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},b.apply(this,arguments)};const y=function(e){var r=e.items;return u("nav",b({"aria-label":"breadcrumb"},{children:u("ol",b({className:"breadcrumb"},{children:r.map((function(e,n){var t=e[0],a=e[1];return n==r.length-1?u("li",b({className:"breadcrumb-item active","aria-current":"page"},{children:t}),n):u("li",b({className:"breadcrumb-item"},{children:u("a",b({href:a},{children:t}),void 0)}),n)}))}),void 0)}),void 0)};var w=function(){return w=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},w.apply(this,arguments)};const N=function(e){var r=e.pageData,t=e.breadcrumbs,a=e.children,i=r.version,o=r.versions;return u(n().Fragment,{children:[u("header",{children:u(p,{versions:o,version:i},void 0)},void 0),u("main",w({class:"flex-shrink-0 mt-3 pb-5"},{children:u("div",w({className:"container"},{children:[u(y,{items:t},void 0),a]}),void 0)}),void 0)]},void 0)};var x=function(){return x=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},x.apply(this,arguments)};const O=function(e){var r=e.mapSize,n=e.mapCoordinates;return u("div",x({className:"d-flex justify-content-center"},{children:u("svg",x({xmlns:"http://www.w3.org/2000/svg",height:"400px",viewBox:"0 0 ".concat(r[0]," ").concat(r[1])},{children:[u("image",{href:s("static","images","map.svg"),height:"100%"},void 0),u("circle",{cx:n[0],cy:n[1],r:"15",fill:"red"},void 0)]}),void 0)}),void 0)},j=preactHooks,_=Chart,P=luxon;function C(){var e=(0,j.useState)(null),r=e[0],n=e[1],t=(0,j.useCallback)((function(e){n(e)}),[n]);return[r,t]}ChartZoom;var E=function(){return E=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},E.apply(this,arguments)};const k=function(e){var r=e.table,n=C(),t=n[0],a=n[1],i=C(),o=i[0],l=i[1],c=(0,j.useRef)(null);(0,j.useEffect)((function(){if(null!==t)return c.current=function(e,r){for(var n,t,a=r[0],i=a.length,o=[],l=0;l<i;l++)for(var c=a[l],s=1;s<r.length-1;s++){var d=r[s][l],v=P.DateTime.fromObject({year:c,month:s});""===d||-999==Number(d)?o.push({x:v,y:null}):o.push({x:v,y:Number(d)})}var u=e.getContext("2d");if(null===u)return null;var h=new _.Chart(u,{type:"line",data:{datasets:[{label:"Monthly Rainfall",data:o,borderWidth:1,borderColor:"rgb(255, 0, 0)"}]},options:{animation:!1,maintainAspectRatio:!1,scales:{x:{type:"time",title:{display:!0,text:"Date"},time:{unit:"year",tooltipFormat:"MMMM yyyy"}},y:{title:{display:!0,text:"Rainfall (in)"},min:0}},plugins:{legend:{onClick:function(){}},zoom:{pan:{enabled:!0,mode:"x"},zoom:{mode:"x",wheel:{enabled:!0}},limits:{x:{min:"original",max:"original"}}}}}}),f=h.scales.y.max,m=null===(t=null===(n=null==h?void 0:h.options)||void 0===n?void 0:n.scales)||void 0===t?void 0:t.y;return void 0!==m&&(m.max=f),h.update(),h}(t,r),function(){null!==c.current&&c.current.destroy()}}),[t,c,r]);var s=(0,j.useCallback)((function(){o&&o.classList.add("rr-gauge-chart-show-scroll-message")}),[o]);return function(e,r,n){var t=(0,j.useState)(!1),a=t[0],i=t[1],o=function(e){return i(!0),n instanceof Function?n(e):n.handleEvent(e)};(0,j.useEffect)((function(){if(e)return a||e.addEventListener(r,o,{once:!0}),function(){e&&e.removeEventListener(r,n)}}),[e,a,i,o])}(o,"mouseover",s),u("div",E({ref:l,className:"rr-gauge-chart-wrapper position-relative"},{children:[u("div",E({className:"rr-gauge-chart-container position-relative"},{children:u("canvas",{ref:a},void 0)}),void 0),u("div",E({className:"rr-gauge-chart-scroll-message"},{children:"Scroll to zoom"}),void 0)]}),void 0)};var D=function(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e},z=function(){return z=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},z.apply(this,arguments)};function M(e,r,n,t){switch(void 0===n&&(n="text"),void 0===t&&(t={}),n){case"text":return e;case"float":return;case"link":return function(e,r,n){var t=r[n.urlField];return u("a",z({href:t},{children:e}),void 0)}(e,r,t);default:throw new Error("Unknown format")}}function S(e){var r=e.frozen,n=void 0!==r&&r;return d(A||(A=D(["",""],["",""])),n&&"rr-frozen")}const R=function(e){var r=e.columns,n=e.data,t=e.className,a=void 0===t?"":t;return u("table",z({className:d(F||(F=D(["table ",""],["table ",""])),a)},{children:[u("thead",{children:u("tr",{children:r.map((function(e){return u("th",z({scope:"col",className:S(e)},{children:e.title}),e.field)}))},void 0)},void 0),u("tbody",{children:n.map((function(e,n){return u("tr",{children:r.map((function(r){return u("td",z({className:S(r)},{children:M(e[r.field],e,r.format,r.formatParams)}),r.field)}))},n)}))},void 0)]}),void 0)};var A,F,L=function(){return L=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},L.apply(this,arguments)},W=function(e,r,n){if(n||2===arguments.length)for(var t,a=0,i=r.length;a<i;a++)!t&&a in r||(t||(t=Array.prototype.slice.call(r,0,a)),t[a]=r[a]);return e.concat(t||Array.prototype.slice.call(r))},J=["January","February","March","April","May","June","July","August","September","October","November","December"];const T=function(e){for(var r=e.table,n=W(W([],J,!0),["Total"],!1),t=r[0],a=[{field:"month",title:"",frozen:!0}],i=0;i<t.length;i++){var o=t[i];a.push({field:""+o,title:""+o})}for(var l=[],c=1;c<r.length;c++){var s={month:n[c-1]};for(i=0;i<r[c].length;i++)s[t[i]]=r[c][i];l.push(s)}return u("div",L({className:"table-responsive position-relative"},{children:u(R,{className:"table-striped table-sm rr-table-frozen-column",columns:a,data:l},void 0)}),void 0)};var B=function(){return B=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},B.apply(this,arguments)};function H(e){var r=e.label,n=e.children;return u("li",B({className:"list-group-item d-flex"},{children:[u("div",{children:r},void 0),u("div",B({className:"ms-auto"},{children:n}),void 0)]}),void 0)}const I=function(e){var r=e.pageData,t=r.name,a=r.table,i=r.mapCoordinates,o=r.mapSize,l=r.metadata,c=r.links;return u(n().Fragment,{children:[u("h1",B({className:"mb-5"},{children:t}),void 0),u("div",B({className:"row gx-5"},{children:[u("div",B({className:"col-md mb-5"},{children:[u("h2",B({className:"fs-4"},{children:"Metadata"}),void 0),u("ul",B({className:"list-group list-group-flush"},{children:[u(H,B({label:"Title"},{children:l.station}),void 0),u(H,B({label:"Station number"},{children:l.stationNo}),void 0),u(H,B({label:"Grid reference"},{children:l.gridRef}),void 0),u(H,B({label:"Longitude"},{children:l.lon}),void 0),u(H,B({label:"Latitude"},{children:l.lat}),void 0),u(H,B({label:"Elevation"},{children:"".concat(l.elevation,"ft")}),void 0)]}),void 0)]}),void 0),u("div",B({className:"col-md mb-5"},{children:[u("h2",B({className:"fs-4"},{children:"Map"}),void 0),u(O,{mapSize:o,mapCoordinates:i},void 0)]}),void 0)]}),void 0),u("div",B({className:"mb-5"},{children:[u("h2",B({className:"fs-4"},{children:"Rainfall"}),void 0),u(k,{table:a},void 0)]}),void 0),u("div",B({className:"mb-5"},{children:[u("h2",B({className:"fs-4"},{children:"Data"}),void 0),u(T,{table:a},void 0)]}),void 0),u("div",B({className:"row mb-5"},{children:u("div",B({className:"col"},{children:[u("h2",B({className:"fs-4"},{children:"Downloads"}),void 0),u("ul",B({className:"list-group list-group-flush"},{children:u("li",B({className:"list-group-item"},{children:u("a",B({href:c.dataFile,download:!0},{children:"Data file"}),void 0)}),void 0)}),void 0)]}),void 0)}),void 0)]},void 0)};var V=function(){return V=Object.assign||function(e){for(var r,n=1,t=arguments.length;n<t;n++)for(var a in r=arguments[n])Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);return e},V.apply(this,arguments)};!function(e){var n=function(){var e=document.getElementById("page-data");if(e&&null!==e.textContent)return JSON.parse(e.textContent);throw new Error("Cannot find page data")}(),t=document.getElementById("app");if(null===t)throw new Error("Cannot find app element");(0,r.render)((0,r.h)((function(e){var r=e.pageData,n=r.name,t=r.location,a=r.version,i=[["Home",s("index.html")],["Locations",s(a,"locations","index.html")],[t,s(a,"locations",t,"index.html")],[n,""]];return u(N,V({pageData:r,breadcrumbs:i},{children:u(I,{pageData:r},void 0)}),void 0)}),{pageData:n}),t)}()})();